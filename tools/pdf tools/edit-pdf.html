<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Pdf - Free Online Tool</title>
    <meta name="description" content="Free online Edit Pdf tool">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../../css/style.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- PDF.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <style>
        /* Base color scheme */
        :root {
            --primary-color: #e67e22;
            --brand-purple: #6f42c1;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --background-color: #ffffff;
            --text-color: #333333;
            --navbar-bg: #ffffff;
            --navbar-text-color: #444;
            --navbar-icon-color: #6f42c1;
            --trust-banner-gradient-start: #e67e22;
            --trust-banner-gradient-end: #f39c12;
            --banner-bg: #e67e22;
            --banner-text: #ffffff;
            --primary-color-rgb: 230, 126, 34;
        }
        
        .color-scheme-1 {
            --primary-color: #007bff;
            --brand-purple: #6f42c1;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --background-color: #ffffff;
            --text-color: #f32b2b;
            --navbar-bg: #ffffff;
            --navbar-text-color: #444;
            --navbar-icon-color: #6f42c1;
            --trust-banner-gradient-start: #6f42c1;
            --trust-banner-gradient-end: #8a5fcf;
            --footer-bg: #f8f9fa;
            --footer-text: #333333;
            --footer-link: #007bff;
        }
        
        .color-scheme-2 {
            --primary-color: #0dcaf0;
            --brand-purple: #0d6efd;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e3f2fd;
            --text-color: #0d6efd;
            --navbar-bg: #bbdefb;
            --navbar-text-color: #0d6efd;
            --navbar-icon-color: #0d6efd;
            --trust-banner-gradient-start: #0d6efd;
            --trust-banner-gradient-end: #0dcaf0;
            --footer-bg: #bbdefb;
            --footer-text: #0d6efd;
            --footer-link: #0dcaf0;
        }

        /* Color Scheme 3 - Forest */
        .color-scheme-3 {
            --primary-color: #198754;
            --brand-purple: #20c997;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e8f5e9;
            --text-color: #2e7d32;
            --navbar-bg: #c8e6c9;
            --navbar-text-color: #2e7d32;
            --navbar-icon-color: #2e7d32;
            --trust-banner-gradient-start: #198754;
            --trust-banner-gradient-end: #20c997;
            --footer-bg: #c8e6c9;
            --footer-text: #2e7d32;
            --footer-link: #198754;
        }
        
        /* Color Scheme 4 - Sunset */
        .color-scheme-4 {
            --primary-color: #fd7e14;
            --brand-purple: #dc3545;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #fff3e0;
            --text-color: #e65100;
            --navbar-bg: #ffe0b2;
            --navbar-text-color: #e65100;
            --navbar-icon-color: #e65100;
            --trust-banner-gradient-start: #fd7e14;
            --trust-banner-gradient-end: #dc3545;
            --footer-bg: #ffe0b2;
            --footer-text: #e65100;
            --footer-link: #fd7e14;
        }
        
        /* Color Scheme 5 - Royal */
        .color-scheme-5 {
            --primary-color: #6f42c1;
            --brand-purple: #6f42c1;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #f3e5f5;
            --text-color: #4a148c;
            --navbar-bg: #e1bee7;
            --navbar-text-color: #4a148c;
            --navbar-icon-color: #5e1caf;
            --trust-banner-gradient-start: #6f42c1;
            --trust-banner-gradient-end: #9370DB;
            --footer-bg: #e1bee7;
            --footer-text: #4a148c;
            --footer-link: #6f42c1;
        }

        /* Color Scheme 6 - Midnight */
        .color-scheme-6 {
            --primary-color: #0d6efd;
            --brand-purple: #6610f2;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e3f2fd;
            --text-color: #0d6efd;
            --navbar-bg: #bbdefb;
            --navbar-text-color: #0d6efd;
            --navbar-icon-color: #0d6efd;
            --trust-banner-gradient-start: #0d6efd;
            --trust-banner-gradient-end: #6610f2;
            --footer-bg: #bbdefb;
            --footer-text: #0d6efd;
            --footer-link: #0d6efd;
        }

        /* Color Scheme 7 - Spring */
        .color-scheme-7 {
            --primary-color: #20c997;
            --brand-purple: #198754;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e8f5e9;
            --text-color: #2e7d32;
            --navbar-bg: #c8e6c9;
            --navbar-text-color: #2e7d32;
            --navbar-icon-color: #2e7d32;
            --trust-banner-gradient-start: #20c997;
            --trust-banner-gradient-end: #198754;
            --footer-bg: #c8e6c9;
            --footer-text: #2e7d32;
            --footer-link: #20c997;
        }

        /* Color Scheme 8 - Coral */
        .color-scheme-8 {
            --primary-color: #fd7e14;
            --brand-purple: #dc3545;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #fff3e0;
            --text-color: #e65100;
            --navbar-bg: #ffe0b2;
            --navbar-text-color: #e65100;
            --navbar-icon-color: #e65100;
            --trust-banner-gradient-start: #fd7e14;
            --trust-banner-gradient-end: #dc3545;
            --footer-bg: #ffe0b2;
            --footer-text: #e65100;
            --footer-link: #fd7e14;
        }

        /* Color Scheme 9 - Lavender */
        .color-scheme-9 {
            --primary-color: #6f42c1;
            --brand-purple: #6f42c1;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #f3e5f5;
            --text-color: #4a148c;
            --navbar-bg: #e1bee7;
            --navbar-text-color: #4a148c;
            --navbar-icon-color: #4a148c;
            --trust-banner-gradient-start: #6f42c1;
            --trust-banner-gradient-end: #9370DB;
            --footer-bg: #e1bee7;
            --footer-text: #4a148c;
            --footer-link: #6f42c1;
        }

        /* Color Scheme 10 - Mint */
        .color-scheme-10 {
            --primary-color: #20c997;
            --brand-purple: #198754;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e8f5e9;
            --text-color: #2e7d32;
            --navbar-bg: #c8e6c9;
            --navbar-text-color: #2e7d32;
            --navbar-icon-color: #2e7d32;
            --trust-banner-gradient-start: #20c997;
            --trust-banner-gradient-end: #198754;
            --footer-bg: #c8e6c9;
            --footer-text: #2e7d32;
            --footer-link: #20c997;
        }

        /* Color Scheme 11 - Sunset Orange */
        .color-scheme-11 {
            --primary-color: #fd7e14;
            --brand-purple: #dc3545;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #fff3e0;
            --text-color: #e65100;
            --navbar-bg: #ffe0b2;
            --navbar-text-color: #e65100;
            --navbar-icon-color: #e65100;
            --trust-banner-gradient-start: #fd7e14;
            --trust-banner-gradient-end: #dc3545;
            --footer-bg: #ffe0b2;
            --footer-text: #e65100;
            --footer-link: #fd7e14;
        }

        /* Color Scheme 12 - Deep Blue */
        .color-scheme-12 {
            --primary-color: #0d6efd;
            --brand-purple: #6610f2;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e3f2fd;
            --text-color: #0d6efd;
            --navbar-bg: #bbdefb;
            --navbar-text-color: #0d6efd;
            --navbar-icon-color: #0d6efd;
            --trust-banner-gradient-start: #0d6efd;
            --trust-banner-gradient-end: #6610f2;
            --footer-bg: #bbdefb;
            --footer-text: #0d6efd;
            --footer-link: #0d6efd;
        }

        /* Color Scheme 13 - Emerald */
        .color-scheme-13 {
            --primary-color: #20c997;
            --brand-purple: #198754;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e8f5e9;
            --text-color: #2e7d32;
            --navbar-bg: #c8e6c9;
            --navbar-text-color: #2e7d32;
            --navbar-icon-color: #2e7d32;
            --trust-banner-gradient-start: #20c997;
            --trust-banner-gradient-end: #198754;
            --footer-bg: #c8e6c9;
            --footer-text: #2e7d32;
            --footer-link: #20c997;
        }

        /* Color Scheme 14 - Rose */
        .color-scheme-14 {
            --primary-color: #dc3545;
            --brand-purple: #dc3545;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #f8d7da;
            --text-color: #721c24;
            --navbar-bg: #f5c6cb;
            --navbar-text-color: #721c24;
            --navbar-icon-color: #721c24;
            --trust-banner-gradient-start: #dc3545;
            --trust-banner-gradient-end: #f8d7da;
            --footer-bg: #f5c6cb;
            --footer-text: #721c24;
            --footer-link: #dc3545;
        }

        /* Color Scheme 15 - Sky */
        .color-scheme-15 {
            --primary-color: #0dcaf0;
            --brand-purple: #0d6efd;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e3f2fd;
            --text-color: #0d6efd;
            --navbar-bg: #bbdefb;
            --navbar-text-color: #0d6efd;
            --navbar-icon-color: #0d6efd;
            --trust-banner-gradient-start: #0dcaf0;
            --trust-banner-gradient-end: #0d6efd;
            --footer-bg: #bbdefb;
            --footer-text: #0d6efd;
            --footer-link: #0dcaf0;
        }

        /* Color Scheme 16 - Gold */
        .color-scheme-16 {
            --primary-color: #ffc107;
            --brand-purple: #ffc107;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #fff3cd;
            --text-color: #856404;
            --navbar-bg: #ffeeba;
            --navbar-text-color: #856404;
            --navbar-icon-color: #856404;
            --trust-banner-gradient-start: #ffc107;
            --trust-banner-gradient-end: #ffc107;
            --footer-bg: #ffeeba;
            --footer-text: #856404;
            --footer-link: #ffc107;
        }

        /* Color Scheme 17 - Teal */
        .color-scheme-17 {
            --primary-color: #20c997;
            --brand-purple: #20c997;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #d1f2eb;
            --text-color: #0c5460;
            --navbar-bg: #bee5eb;
            --navbar-text-color: #0c5460;
            --navbar-icon-color: #0c5460;
            --trust-banner-gradient-start: #20c997;
            --trust-banner-gradient-end: #20c997;
            --footer-bg: #bee5eb;
            --footer-text: #0c5460;
            --footer-link: #20c997;
        }

        /* Color Scheme 18 - Indigo */
        .color-scheme-18 {
            --primary-color: #6610f2;
            --brand-purple: #6610f2;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #e2d9f3;
            --text-color: #4a148c;
            --navbar-bg: #d1c4e9;
            --navbar-text-color: #4a148c;
            --navbar-icon-color: #4a148c;
            --trust-banner-gradient-start: #6610f2;
            --trust-banner-gradient-end: #6610f2;
            --footer-bg: #d1c4e9;
            --footer-text: #4a148c;
            --footer-link: #6610f2;
        }

        /* Color Scheme 19 - Purple */
        .color-scheme-19 {
            --primary-color: #6f42c1;
            --brand-purple: #6f42c1;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #f3e5f5;
            --text-color: #4a148c;
            --navbar-bg: #e1bee7;
            --navbar-text-color: #4a148c;
            --navbar-icon-color: #4a148c;
            --trust-banner-gradient-start: #6f42c1;
            --trust-banner-gradient-end: #6f42c1;
            --footer-bg: #e1bee7;
            --footer-text: #4a148c;
            --footer-link: #6f42c1;
        }

        /* Color Scheme 20 - Pink */
        .color-scheme-20 {
            --primary-color: #d63384;
            --brand-purple: #d63384;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #f8d7da;
            --text-color: #721c24;
            --navbar-bg: #f5c6cb;
            --navbar-text-color: #721c24;
            --navbar-icon-color: #721c24;
            --trust-banner-gradient-start: #d63384;
            --trust-banner-gradient-end: #d63384;
            --footer-bg: #f5c6cb;
            --footer-text: #721c24;
            --footer-link: #d63384;
        }

        /* Color Scheme 21 - Red */
        .color-scheme-21 {
            --primary-color: #dc3545;
            --brand-purple: #dc3545;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --background-color: #f8d7da;
            --text-color: #721c24;
            --navbar-bg: #f5c6cb;
            --navbar-text-color: #721c24;
            --navbar-icon-color: #721c24;
            --trust-banner-gradient-start: #dc3545;
            --trust-banner-gradient-end: #dc3545;
            --footer-bg: #f5c6cb;
            --footer-text: #721c24;
            --footer-link: #dc3545;
        }

        /* Color Scheme 22 - Neon */
        .color-scheme-22 {
            --primary-color: #00ff00;
            --brand-purple: #ff00ff;
            --secondary-color: #00ffff;
            --success-color: #ffff00;
            --background-color: #111111;
            --text-color: #ffffff;
            --navbar-bg: #222222;
            --navbar-text-color: #00ff00;
            --navbar-icon-color: #00ff00;
            --trust-banner-gradient-start: #00ff00;
            --trust-banner-gradient-end: #ff00ff;
            --footer-bg: #222222;
            --footer-text: #ffffff;
            --footer-link: #00ff00;
        }

        /* Color Scheme 23 - Pastel */
        .color-scheme-23 {
            --primary-color: #FFB5E8;
            --brand-purple: #B5B9FF;
            --secondary-color: #97E1D4;
            --success-color: #F0F0AA;
            --background-color: #FFFFFF;
            --text-color: #707070;
            --navbar-bg: #FFF0F5;
            --navbar-text-color: #707070;
            --navbar-icon-color: #FFB5E8;
            --trust-banner-gradient-start: #FFB5E8;
            --trust-banner-gradient-end: #B5B9FF;
            --footer-bg: #FFF0F5;
            --footer-text: #707070;
            --footer-link: #FFB5E8;
        }

        /* Color Scheme 24 - Dark Ocean */
        .color-scheme-24 {
            --primary-color: #006994;
            --brand-purple: #6da4c9;
            --secondary-color: #2E86C1;
            --success-color: #48C9B0;
            --background-color: #0A2239;
            --text-color: #FFFFFF;
            --navbar-bg: #1B4F72;
            --navbar-text-color: #FFFFFF;
            --navbar-icon-color: #48C9B0;
            --trust-banner-gradient-start: #006994;
            --trust-banner-gradient-end: #48C9B0;
            --footer-bg: #1B4F72;
            --footer-text: #FFFFFF;
            --footer-link: #48C9B0;
        }

        /* Color Scheme 25 - Autumn */
        .color-scheme-25 {
            --primary-color: #D35400;
            --brand-purple: #BA4A00;
            --secondary-color: #E67E22;
            --success-color: #F39C12;
            --background-color: #FDF2E9;
            --text-color: #6E2C00;
            --navbar-bg: #FBEEE6;
            --navbar-text-color: #6E2C00;
            --navbar-icon-color: #D35400;
            --trust-banner-gradient-start: #D35400;
            --trust-banner-gradient-end: #F39C12;
            --footer-bg: #FBEEE6;
            --footer-text: #6E2C00;
            --footer-link: #D35400;
        }

        /* Color Scheme 26 - Forest Night */
        .color-scheme-26 {
            --primary-color: #2ECC71;
            --brand-purple: #27AE60;
            --secondary-color: #52BE80;
            --success-color: #82E0AA;
            --background-color: #1A5028;
            --text-color: #FFFFFF;
            --navbar-bg: #196F3D;
            --navbar-text-color: #FFFFFF;
            --navbar-icon-color: #2ECC71;
            --trust-banner-gradient-start: #2ECC71;
            --trust-banner-gradient-end: #82E0AA;
            --footer-bg: #196F3D;
            --footer-text: #FFFFFF;
            --footer-link: #2ECC71;
        }

        /* Color Scheme 27 - Cherry Blossom */
        .color-scheme-27 {
            --primary-color: #FF69B4;
            --brand-purple: #FF1493;
            --secondary-color: #FFB6C1;
            --success-color: #FFC0CB;
            --background-color: #FFF0F5;
            --text-color: #C71585;
            --navbar-bg: #FFE4E1;
            --navbar-text-color: #C71585;
            --navbar-icon-color: #FF69B4;
            --trust-banner-gradient-start: #FF69B4;
            --trust-banner-gradient-end: #FFC0CB;
            --footer-bg: #FFE4E1;
            --footer-text: #C71585;
            --footer-link: #FF69B4;
        }

        /* Color Scheme 28 - Desert */
        .color-scheme-28 {
            --primary-color: #DAA520;
            --brand-purple: #B8860B;
            --secondary-color: #F4A460;
            --success-color: #DEB887;
            --background-color: #FDF5E6;
            --text-color: #8B4513;
            --navbar-bg: #FAEBD7;
            --navbar-text-color: #8B4513;
            --navbar-icon-color: #DAA520;
            --trust-banner-gradient-start: #DAA520;
            --trust-banner-gradient-end: #DEB887;
            --footer-bg: #FAEBD7;
            --footer-text: #8B4513;
            --footer-link: #DAA520;
        }

        /* Color Scheme 29 - Electric */
        .color-scheme-29 {
            --primary-color: #4B0082;
            --brand-purple: #8A2BE2;
            --secondary-color: #9400D3;
            --success-color: #9932CC;
            --background-color: #000000;
            --text-color: #FFFFFF;
            --navbar-bg: #9c58db;
            --navbar-text-color: #FFFFFF;
            --navbar-icon-color: #8A2BE2;
            --trust-banner-gradient-start: #4B0082;
            --trust-banner-gradient-end: #9932CC;
            --footer-bg: #1A0033;
            --footer-text: #FFFFFF;
            --footer-link: #8A2BE2;
        }

        /* Color Scheme 30 - Ice */
        .color-scheme-30 {
            --primary-color: #00CED1;
            --brand-purple: #40E0D0;
            --secondary-color: #48D1CC;
            --success-color: #AFEEEE;
            --background-color: #F0FFFF;
            --text-color: #008B8B;
            --navbar-bg: #E0FFFF;
            --navbar-text-color: #008B8B;
            --navbar-icon-color: #00CED1;
            --trust-banner-gradient-start: #00CED1;
            --trust-banner-gradient-end: #AFEEEE;
            --footer-bg: #E0FFFF;
            --footer-text: #008B8B;
            --footer-link: #00CED1;
        }

        /* Color Scheme 31 - Sunset Gold */
        .color-scheme-31 {
            --primary-color: #FFD700;
            --brand-purple: #FFA500;
            --secondary-color: #FF8C00;
            --success-color: #DAA520;
            --background-color: #FFFAF0;
            --text-color: #B8860B;
            --navbar-bg: #FFF8DC;
            --navbar-text-color: #B8860B;
            --navbar-icon-color: #FFD700;
            --trust-banner-gradient-start: #FFD700;
            --trust-banner-gradient-end: #FFA500;
            --footer-bg: #FFF8DC;
            --footer-text: #B8860B;
            --footer-link: #FFD700;
        }

        /* Color Scheme 32 - Deep Space */
        .color-scheme-32 {
            --primary-color: #4B0082;
            --brand-purple: #483D8B;
            --secondary-color: #6A5ACD;
            --success-color: #7B68EE;
            --background-color: #191970;
            --text-color: #E6E6FA;
            --navbar-bg: #000080;
            --navbar-text-color: #E6E6FA;
            --navbar-icon-color: #7B68EE;
            --trust-banner-gradient-start: #4B0082;
            --trust-banner-gradient-end: #7B68EE;
            --footer-bg: #000080;
            --footer-text: #E6E6FA;
            --footer-link: #7B68EE;
        }

        /* Color Scheme 33 - Rainbow */
        .color-scheme-33 {
            --primary-color: #FF0000;
            --brand-purple: #FF7F00;
            --secondary-color: #FFFF00;
            --success-color: #00FF00;
            --background-color: #FFFFFF;
            --text-color: #4B0082;
            --navbar-bg: #E6E6FA;
            --navbar-text-color: #4B0082;
            --navbar-icon-color: #8B00FF;
            --trust-banner-gradient-start: #FF0000;
            --trust-banner-gradient-end: #8B00FF;
            --footer-bg: #E6E6FA;
            --footer-text: #4B0082;
            --footer-link: #8B00FF;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding-top: 0;
            margin-top: 0;
        }

        /* Announcement Bar Styles */
        .announcement-bar {
            background: linear-gradient(to right, var(--trust-banner-gradient-start), var(--trust-banner-gradient-end));
            color: white;
            padding: 6px 0;
            text-align: center;
            overflow: hidden;
            white-space: nowrap;
            font-size: 0.9em;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1001;
            margin: 0;
            border: none;
        }
        
        .announcement-content {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 25s linear infinite;
            color: white;
        }

        @keyframes marquee {
            0%   { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        /* Header Styles */
        .header {
            background-color: var(--navbar-bg);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1000;
        }
        
        .header .navbar {
            background-color: var(--navbar-bg) !important;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .navbar-brand .brand-icon {
            color: var(--brand-purple);
            font-size: 1.5em;
            margin-right: 5px;
        }

        .navbar-brand .brand-text {
            color: var(--brand-purple);
            font-weight: bold;
            font-size: 1.4em;
        }

        .navbar-nav .nav-link {
            color: var(--navbar-text-color);
        }

        .navbar-nav .nav-link .fas,
        .navbar-nav .nav-link svg {
            color: var(--navbar-icon-color);
            margin-right: 5px;
        }
        
        .navbar-nav .nav-link.active,
        .navbar-nav .nav-link:hover {
            color: var(--brand-purple);
        }
        
        .trust-indicators .trust-item {
            color: var(--navbar-text-color);
            font-size: 0.9em;
        }
        
        .trust-indicators .trust-item .fas,
        .trust-indicators .trust-item svg {
            color: var(--navbar-icon-color);
            margin-right: 5px;
        }

        .theme-switcher {
            background-color: var(--brand-purple) !important;
            border-color: var(--brand-purple) !important;
            color: white !important;
            border-radius: 20px !important;
            padding: 0.3rem 0.8rem !important;
        }

        .theme-switcher:hover {
            opacity: 0.9;
        }
        
        .theme-switcher .fas,
        .theme-switcher svg {
            margin-right: 5px;
            color: white !important;
        }

        /* Trust Banner Styles */
        .trust-banner {
            background: linear-gradient(45deg, var(--trust-banner-gradient-start), var(--trust-banner-gradient-end));
            color: white;
            padding: 12px 0;
            margin: 8px 0;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .trust-banner .stat-item {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 8px;
            border-radius: 6px;
            margin: 2px;
            flex: 1;
            min-width: 90px;
            transition: transform 0.3s ease;
        }

        .trust-banner .stat-item:hover {
            transform: translateY(-2px);
            background-color: rgba(255, 255, 255, 0.25);
        }

        .trust-banner .stat-number {
            font-size: 1.3em;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .trust-banner .stat-label {
            font-size: 0.75em;
            color: rgba(255, 255, 255, 0.9);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Footer Styles */
        .footer {
            background-color: var(--footer-bg);
            padding: 40px 0;
            margin-top: 50px;
            color: var(--footer-text);
        }

        .footer h4 {
            color: var(--footer-text);
            font-size: 1.4em;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .footer-links ul li {
            margin-bottom: 10px;
        }

        .footer-links ul li a {
            color: var(--footer-text);
            text-decoration: none;
            transition: color 0.3s ease;
            display: inline-block;
            font-size: 1.1em;
        }

        .footer-links ul li a:hover {
            color: var(--footer-link);
            transform: translateX(5px);
        }

        .footer-social .social-links a {
            color: var(--footer-text);
            transition: all 0.3s ease;
            display: inline-block;
            margin-bottom: 10px;
        }

        .footer-social .social-links a:hover {
            color: var(--footer-link);
            transform: translateX(5px);
        }

        .footer-social .social-links a span {
            font-size: 1.1em;
            vertical-align: middle;
        }

        .footer-copyright {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Additional styles */
        .tool-container {
            position: relative;
            overflow: hidden;
        }

        /* Banner Section Styles */
        .banner-section {
            background-color: var(--banner-bg);
            background: linear-gradient(to right, var(--trust-banner-gradient-start), var(--trust-banner-gradient-end));
            width: 100%;
            padding: 0;
            margin: 0;
        }

        .banner-container {
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        .banner-item {
            flex: 1;
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .banner-item:last-child {
            border-right: none;
        }

        .banner-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .banner-number {
            display: block;
            font-size: 24px;
            font-weight: bold;
            color: var(--banner-text);
            margin-bottom: 5px;
        }

        .banner-label {
            display: block;
            font-size: 14px;
            color: var(--banner-text);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid var(--primary-color);
            border-top: 5px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Scroll Progress Bar */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary-color);
            transform-origin: left;
            transform: scaleX(0);
            transition: transform 0.2s ease;
            z-index: 1002;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(to right, var(--primary-color), var(--brand-purple));
            color: #fff;
            padding: 3rem 0;
            margin-bottom: 1rem;
        }

        .hero-section h1 {
            font-weight: 700;
            color: #fff;
            margin-bottom: 1.5rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }

        .hero-section p {
            color: rgba(255,255,255,0.9);
            font-size: 1.1rem;
        }

        /* Feature Cards */
        .section-title {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-weight: 600;
            text-align: center;
        }

        .feature-card {
            background-color: #fff;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .feature-card h4 {
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        .feature-card p {
            color: var(--secondary-color);
            font-size: 0.9rem;
        }

        /* FAQ Section */
        .faq-section {
            background-color: rgba(var(--primary-color-rgb), 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .faq-section .section-title {
            color: #17a2b8;
            margin-bottom: 25px;
            text-align: center;
            font-size: 2rem;
        }

        .faq-section .accordion-item {
            border: none;
            margin-bottom: 10px;
            border-radius: 8px;
            overflow: hidden;
        }

        .faq-section .accordion-button {
            background-color: #20c997;
            color: #fff;
            padding: 15px 20px;
            font-weight: 600;
            border-radius: 8px;
        }

        .faq-section .accordion-button:not(.collapsed) {
            background-color: #20c997;
            color: #fff;
            box-shadow: none;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .faq-section .accordion-button:focus {
            box-shadow: none;
            border-color: #20c997;
        }

        .faq-section .accordion-button::after {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }

        .faq-section .accordion-body {
            background-color: #fff;
            color: #333;
            padding: 20px;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }

        /* Testimonials Section */
        .testimonials-section {
            background-color: #f8f9fa;
        }

        .testimonial-card {
            background-color: #fff;
            border-radius: 8px;
            padding: 1.5rem;
            height: 100%;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .testimonial-card:hover {
            transform: translateY(-5px);
        }

        .testimonial-rating {
            color: #ffc107;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .testimonial-author {
            font-weight: 600;
            color: var(--primary-color);
        }

        /* CTA Section */
        .cta-section {
            background: linear-gradient(to right, var(--trust-banner-gradient-start), var(--trust-banner-gradient-end));
            color: #fff;
            text-align: center;
            padding: 3rem 0;
        }

        .cta-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #fff;
        }

        .cta-text {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            color: rgba(255,255,255,0.9);
        }

        .cta-section .btn-primary {
            background-color: #fff;
            color: var(--primary-color);
            border: none;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            border-radius: 30px;
            transition: all 0.3s ease;
        }

        .cta-section .btn-primary:hover {
            background-color: rgba(255,255,255,0.9);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Advertisement Spaces */
        .ad-space {
            background-color: #f8f9fa;
            border: 1px dashed var(--primary-color);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            margin-bottom: 20px;
            background: linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), 
                        linear-gradient(to right, var(--primary-color), var(--brand-purple));
            overflow: hidden;
            position: relative;
        }

        .ad-space:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                        rgba(var(--primary-color-rgb), 0.05) 25%, 
                        transparent 25%, 
                        transparent 50%, 
                        rgba(var(--primary-color-rgb), 0.05) 50%, 
                        rgba(var(--primary-color-rgb), 0.05) 75%, 
                        transparent 75%, 
                        transparent);
            background-size: 20px 20px;
            z-index: 0;
        }

        .ad-space > div {
            position: relative;
            z-index: 1;
            color: var(--primary-color);
            font-weight: 500;
            text-shadow: 0 1px 1px rgba(255,255,255,0.8);
            font-size: 1.1rem;
        }

        .ad-space.horizontal {
            height: 100px;
            margin-bottom: 25px;
        }

        .ad-space.vertical {
            height: 300px;
        }

        .ad-space.square {
            height: 250px;
        }

        .ad-space:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: var(--brand-purple);
        }

        /* Tool Title */
        .tool-title {
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
            font-size: 2.5rem;
        }

        .tool-title + .lead {
            color: var(--text-color);
            text-align: center;
            max-width: 800px;
            margin: 0 auto 30px;
        }

        /* Info Buttons Styling */
        .tool-info-buttons {
            background: none;
            border: none;
            padding: 0;
            margin-bottom: 25px;
            box-shadow: none;
            overflow: visible;
        }

        .tool-info-buttons-container {
            display: flex;
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 20px;
        }

        .info-button {
            background-color: transparent !important;
            border: none !important;
            border-bottom: 3px solid transparent !important;
            border-radius: 0 !important;
            padding: 10px 20px !important;
            margin: 0 5px -2px 0 !important; /* Overlap border-bottom */
            font-weight: 600 !important;
            color: var(--secondary-color) !important;
            box-shadow: none !important;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
            flex-grow: 1;
            text-align: center !important;
        }

        .info-button:hover {
            color: var(--primary-color) !important;
            transform: none !important;
            box-shadow: none !important;
        }

        .info-button.active-info-button {
            color: var(--primary-color) !important;
            border-bottom-color: var(--primary-color) !important;
            background-color: transparent !important;
            box-shadow: none !important;
        }

        .info-button i {
            color: var(--secondary-color) !important;
            margin-right: 8px !important;
            transition: color 0.3s ease;
        }

        .info-button:hover i,
        .info-button.active-info-button i {
            color: var(--primary-color) !important;
            transform: none !important; /* Reset previous icon transform */
        }

        /* Remove hover shimmer effect */
        .info-button::after {
            display: none;
        }

        /* Remove top border accent */
        .tool-info-buttons::before {
            display: none;
        }

        /* Style content areas */
        .tool-description-box,
        .steps-container,
        .tool-info-content {
            background-color: #fff !important;
            border: 1px solid #eee !important;
            border-radius: 8px !important;
            padding: 20px !important;
            margin-top: 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.03);
            animation: fadeIn 0.5s ease;
        }

        .tool-info-content p {
            margin-bottom: 0;
            color: #5d4037;
        }

        .steps-container .list-group-item {
            border: none !important;
            background: transparent !important;
            color: #5d4037;
            padding: 10px 5px;
            position: relative;
            margin-bottom: 5px;
        }

        .steps-container .list-group-item::before {
            content: counter(item);
            counter-increment: item;
            background-color: #daa520;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .active-info-button {
            background-color: #fff8e1 !important;
            border-color: #daa520 !important;
            box-shadow: 0 3px 8px rgba(218, 165, 32, 0.15) !important;
        }

        /* Review and Rating Section */
        .review-rating-section .review-section-title {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 1.2rem;
            position: relative;
        }
        
        .most-recent-title {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1.2rem;
            position: relative;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .overall-rating-summary {
            background-color: #f8f9fa;
            border-radius: 10px;
            border: 1px solid rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .overall-rating-summary:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transform: translateY(-2px);
        }
        
        .large-rating {
            line-height: 1;
        }
        
        .large-rating .rating-value {
            color: var(--primary-color);
        }
        
        .stars i,
        .stars-small i {
            font-size: 1.3em;
            margin-right: 2px;
        }
        
        .stars-small i {
            font-size: 0.9em;
            margin-right: 1px;
        }
        
        .review-item {
            transition: all 0.3s ease;
            padding: 12px 10px;
            border-radius: 6px;
            margin-bottom: 10px;
        }
        
        .review-item:hover {
            background-color: #f9f9f9;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .review-text {
            color: #555;
            font-style: italic;
            line-height: 1.5;
        }
        
        .reviewer-name {
            color: var(--primary-color);
        }

        /* Rating Input in Modal */
        .rating-input {
            font-size: 1.8em; /* Larger stars for input */
            cursor: pointer;
        }
        .rating-input i {
            color: #ccc; /* Default empty star color */
            margin-right: 5px;
            transition: color 0.2s ease;
        }
        .rating-input i.selected,
        .rating-input i:hover,
        .rating-input i:hover ~ i {
            color: #ffc107; /* Filled star color */
        }
        /* Keep previous stars selected on hover */
        .rating-input:hover i:not(:hover) {
           color: #ccc;
        }
        .rating-input.rated i:not(.selected) {
            color: #ccc;
        }

        .color-dots {
            display: inline-flex;
            gap: 4px;
            margin-left: 8px;
        }
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 1px solid rgba(0,0,0,0.2);
        }
        .dropdown-menu {
            padding: 8px;
        }
        .dropdown-header {
            font-size: 0.75rem;
            font-weight: bold;
            color: #666;
            padding: 4px 8px;
        }
        .dropdown-item {
            display: flex;
            align-items: center;
            padding: 6px 12px;
        }
        .dropdown-item i {
            margin-right: 8px;
            width: 16px;
        }
        .form-check {
            margin: 0;
        }

        /* Enhanced Button Styles */
        .pdf-toolbar .btn {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .pdf-toolbar .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(var(--primary-color-rgb), 0.2);
        }

        .pdf-toolbar .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(var(--primary-color-rgb), 0.1);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }

        .pdf-toolbar .btn:active::after {
            width: 200%;
            height: 200%;
        }

        /* Enhanced Dropdown Styles */
        .dropdown-menu {
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-radius: 8px;
            animation: dropdownFade 0.2s ease;
        }

        @keyframes dropdownFade {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dropdown-item {
            border-radius: 4px;
            margin: 2px 0;
            transition: all 0.2s ease;
        }

        .dropdown-item:hover {
            background-color: rgba(var(--primary-color-rgb), 0.1);
            transform: translateX(5px);
        }

        /* Enhanced Color Dots */
        .color-dots {
            display: inline-flex;
            gap: 4px;
            margin-left: 8px;
        }

        .dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 2px solid rgba(0,0,0,0.1);
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .dot:hover {
            transform: scale(1.2);
            border-color: var(--primary-color);
        }

        .dot.selected {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.2);
        }

        /* Enhanced PDF Drop Zone */
        #pdfDropZone {
            transition: all 0.3s ease;
            border: 2px dashed rgba(var(--primary-color-rgb), 0.3);
            background: linear-gradient(45deg, rgba(var(--primary-color-rgb), 0.05), rgba(var(--primary-color-rgb), 0.02));
        }

        #pdfDropZone.dragover {
            border-color: var(--primary-color);
            background: linear-gradient(45deg, rgba(var(--primary-color-rgb), 0.1), rgba(var(--primary-color-rgb), 0.05));
            transform: scale(1.02);
        }

        #pdfDropZone .text-muted {
            transition: all 0.3s ease;
        }

        #pdfDropZone:hover .text-muted {
            color: var(--primary-color) !important;
        }

        /* Enhanced PDF Viewer */
        #pdfViewer {
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        #pdfViewer:hover {
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        /* Tool Active States */
        .tool-active {
            background-color: var(--primary-color) !important;
            color: white !important;
            box-shadow: 0 4px 8px rgba(var(--primary-color-rgb), 0.3) !important;
        }

        /* PDF Editor Styles */
        .pdf-toolbar {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        .color-dots {
            display: flex;
            gap: 5px;
            margin-left: 10px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
        }

        .pdf-viewer {
            border: 1px solid #ddd;
            min-height: 500px;
            background: #fff;
            position: relative;
        }

        .annotation-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .annotation {
            position: absolute;
            pointer-events: auto;
        }

        .text-annotation {
            background: rgba(255, 255, 0, 0.3);
            cursor: text;
        }

        .link-annotation {
            cursor: pointer;
            text-decoration: underline;
            color: blue;
        }

        .form-field {
            position: absolute;
            border: 1px dashed #ccc;
            padding: 5px;
        }

        .stamp {
            position: absolute;
            pointer-events: none;
        }

        .shape {
            position: absolute;
            pointer-events: none;
        }

        /* Enhanced PDF Viewer Styles */
        #pdfViewer {
            position: relative;
            width: 100%;
            min-height: 600px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            overflow: auto;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
        }

        #pdfViewer canvas {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .annotation-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .annotation {
            position: absolute;
            pointer-events: auto;
            cursor: move;
            user-select: none;
            z-index: 1000;
        }

        .text-annotation {
            background: transparent;
            padding: 5px;
            min-width: 50px;
            min-height: 20px;
            border: 1px dashed transparent;
        }

        .text-annotation:hover {
            border-color: var(--primary-color);
        }

        .image-annotation img,
        .video-annotation video {
            max-width: 100%;
            height: auto;
            pointer-events: none;
        }

        .annotation-controls {
            position: absolute;
            top: -25px;
            right: 0;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 2px;
            display: none;
        }

        .annotation:hover .annotation-controls {
            display: flex;
            gap: 5px;
        }

        .annotation-controls button {
            padding: 2px 5px;
            font-size: 12px;
            background: none;
            border: none;
            cursor: pointer;
        }

        .annotation-controls button:hover {
            background: #f8f9fa;
        }

        /* Add these styles */
        .color-palette {
            width: 200px;
        }

        .color-btn {
            width: 24px;
            height: 24px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .color-btn:hover {
            transform: scale(1.1);
        }

        .color-btn.active {
            border: 2px solid #000;
            transform: scale(1.1);
        }

        .size-controls {
            width: 200px;
        }

        .style-controls {
            display: flex;
            gap: 5px;
        }

        .style-controls button.active {
            background-color: var(--primary-color);
            color: white;
        }

        .text-annotation {
            position: absolute;
            cursor: move;
            min-width: 50px;
            min-height: 20px;
            padding: 5px;
            border: 1px dashed transparent;
            user-select: none;
        }

        .text-annotation:hover {
            border-color: var(--primary-color);
        }

        .text-annotation.editing {
            border-color: var(--primary-color);
            border-style: solid;
        }

        /* Styles for the text layer from PDF.js */
        .textLayer {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            opacity: 1; /* Keep opacity high to receive events */
            pointer-events: auto; /* Allow clicks on the layer */
            z-index: 2; /* Ensure it is above the canvas */
        }

        .textLayer > div {
            position: absolute;
            color: transparent; /* Make text invisible */
            pointer-events: auto; /* Make individual text divs clickable */
            white-space: pre; /* Preserve spaces */
            cursor: text; /* Indicate text is editable */
            /* Add transition for visual feedback */
            transition: border-color 0.2s ease;
             box-sizing: border-box; /* Include padding and border in the element's total width and height */
        }

        .textLayer > div::selection {
            background: rgba(0, 0, 255, 0.3); /* Style for selected text */
        }

        .textLayer > div.text-editing {
             outline: none; /* Remove default outline */
            border: 1px dashed var(--primary-color); /* Blue dashed border */
            background-color: rgba(var(--primary-color-rgb), 0.1); /* Subtle background on edit */
            color: var(--text-color); /* Make text visible when editing */
             pointer-events: auto; /* Ensure interaction */
        }

        /* Floating Toolbar Styles */
        #textEditToolbar {
            position: absolute;
            background-color: white;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1001; /* Ensure toolbar is on top */
            display: none; /* Hidden by default */
            flex-wrap: wrap; /* Allow items to wrap */
            gap: 5px; /* Space between items */
        }

        #textEditToolbar .btn-sm {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
            border-radius: 0.2rem;
        }

        #textEditToolbar .dropdown-menu {
            min-width: auto;
            padding: 0;
        }

        #textEditToolbar input[type="color"], #textEditToolbar input[type="range"] {
            vertical-align: middle;
        }

         #textEditToolbar .form-select-sm {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
            height: calc(1.5em + 0.5rem + 2px);
        }

         #textEditToolbar .input-group-sm > .form-control,
         #textEditToolbar .input-group-sm > .form-select {
             height: calc(1.5em + 0.5rem + 2px);
         }

    </style>
    <!-- SEO Meta Tags -->
    <meta name="keywords" content="Edit PDF, Free PDF Editor, Online PDF Tool, Merge PDF, Split PDF, Compress PDF, PDF to Word, PDF OCR, Add Signature, PDF Watermark, Fast PDF Editing, Secure PDF, PDF Annotations, PDF Converter, PDF Tools, Best PDF Editor, 2024, No Download, Browser PDF Editor, PDF Page Editor, PDF Text Editor, PDF Image Editor, PDF Unlock, PDF Protect, PDF Rotate, PDF Organize, PDF Online, PDF Free, PDF Fast, PDF Accurate, PDF AI, PDF Automation, PDF for Work, PDF for School, PDF for Business, PDF for Students, PDF for Professionals, PDF for Everyone">
    <meta property="og:title" content="Edit PDF Online - Free, Fast & Feature-Rich PDF Editor ">
    <meta property="og:description" content="Edit PDF files online for free! Merge, split, compress, sign, OCR, annotate, and organize PDFs instantly. Fast, secure, and packed with features. No download needed!">
    <meta property="og:image" content="/assets/img/edit-pdf-og.png">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://toolsnew.com/pdf-tools/edit-pdf.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Edit PDF Online - Free, Fast & Feature-Rich PDF Editor ">
    <meta name="twitter:description" content="Edit PDF files online for free! Merge, split, compress, sign, OCR, annotate, and organize PDFs instantly. Fast, secure, and packed with features. No download needed!">
    <meta name="twitter:image" content="/assets/img/edit-pdf-og.png">
</head>
<body style="margin: 0; padding: 0;">
    <!-- Announcement Bar -->
    <div class="announcement-bar">
        <div class="announcement-content">
            <span class="announcement-text"> Your Trust Our Aim!  |  100% Free Tools Collection  |  Premium Quality Results </span>
        </div>
    </div>
    
    <!-- Loading Overlay -->
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Scroll Progress Bar -->
    <div class="scroll-progress"></div>

    <!-- Header -->
    <header class="header">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="../../index.html">
                    <div class="brand-container">
                        <span class="brand-icon"></span>
                        <span class="brand-text">Toolsnew</span>
                    </div>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="../../index.html"> Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../../about.html"> About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../../contact.html"> Contact</a>
                        </li>
                    </ul>
                    <div class="trust-indicators">
                        <span class="trust-item"><i class="fas fa-shield-alt"></i> 100% Secure</span>
                        <span class="trust-item"><i class="fas fa-bolt"></i> Fast & Reliable</span>
                        <span class="trust-item"><i class="fas fa-clock"></i> 24/7 Available</span>
                    </div>
                    <button class="theme-switcher" id="themeSwitcher">
                        <i class="fas fa-palette"></i> Change Colors
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Stats Banner Section -->
    <section class="banner-section">
        <div class="banner-container">
            <div class="banner-item">
                <span class="banner-number">1M+</span>
                <span class="banner-label">HAPPY USERS</span>
                </div>
            <div class="banner-item">
                <span class="banner-number">100+</span>
                <span class="banner-label">FREE TOOLS</span>
                </div>
            <div class="banner-item">
                <span class="banner-number">99.9%</span>
                <span class="banner-label">UPTIME</span>
                </div>
            <div class="banner-item">
                <span class="banner-number">24/7</span>
                <span class="banner-label">SUPPORT</span>
                </div>
            </div>
    </section>

    <!-- Main Content -->
    <main class="container my-5">
        <div class="floating-element floating-element-1"></div>
        <div class="floating-element floating-element-2"></div>
        
        <!-- Top Ad Space -->
        <div class="ad-space horizontal" data-aos="fade-up">
            <div>Advertisement Space</div>
        </div>

        <!-- Tool Title -->
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h1 class="tool-title" data-aos="fade-up">Edit Pdf</h1>
                <p class="lead" data-aos="fade-up">Free online Edit Pdf tool</p>
            </div>
        </div>

        <div class="row">
            <!-- Tool Content -->
            <div class="col-lg-8">
                <!-- Tool Interface Section -->
                <section class="tool-interface mb-4">
                    <div class="card" data-aos="fade-up">
                        <div class="card-body">
                            <div class="tool-container">
                                <!-- Tool specific content -->
                                <div id="toolContent" class="bg-light p-4 rounded">
                                    <!-- PDF Toolbar -->
                                    <div class="pdf-toolbar d-flex flex-wrap align-items-center mb-3" style="gap: 0.5rem;">
                                        <!-- Text Tools -->
                                        <div class="dropdown">
                                            <button class="btn btn-outline-primary btn-sm dropdown-toggle" type="button" id="toolText" data-bs-toggle="dropdown" aria-label="Text tools">
                                                <i class="fa fa-font"></i> Text
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><h6 class="dropdown-header">ADD TEXT AND SYMBOLS</h6></li>
                                                <li><a class="dropdown-item" href="#" onclick="addText('IA', 'Arial')" aria-label="Add IA text"><span class="font-monospace">IA</span></a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addText('', 'Arial')" aria-label="Add X mark"></a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addText('', 'Arial')" aria-label="Add checkmark"></a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addText('', 'Arial')" aria-label="Add bullet point"></a></li>
                                                <li><div class="dropdown-divider"></div></li>
                                                <li><h6 class="dropdown-header">FONT SELECTION</h6></li>
                                                <li><a class="dropdown-item" href="#" onclick="setFont('Arial')" aria-label="Set Arial font">Arial</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="setFont('Times New Roman')" aria-label="Set Times New Roman font">Times New Roman</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="setFont('Courier New')" aria-label="Set Courier New font">Courier New</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="setFont('Verdana')" aria-label="Set Verdana font">Verdana</a></li>
                                                <li><div class="dropdown-divider"></div></li>
                                                <li><h6 class="dropdown-header">TEXT COLOR</h6></li>
                                                <li>
                                                    <div class="color-palette p-2">
                                                        <div class="d-flex flex-wrap gap-2">
                                                            <button class="color-btn" style="background-color: #000000;" onclick="setTextColor('#000000')" aria-label="Set black color"></button>
                                                            <button class="color-btn" style="background-color: #FF0000;" onclick="setTextColor('#FF0000')" aria-label="Set red color"></button>
                                                            <button class="color-btn" style="background-color: #0000FF;" onclick="setTextColor('#0000FF')" aria-label="Set blue color"></button>
                                                            <button class="color-btn" style="background-color: #008000;" onclick="setTextColor('#008000')" aria-label="Set green color"></button>
                                                            <button class="color-btn" style="background-color: #FFA500;" onclick="setTextColor('#FFA500')" aria-label="Set orange color"></button>
                                                            <button class="color-btn" style="background-color: #800080;" onclick="setTextColor('#800080')" aria-label="Set purple color"></button>
                                                            <button class="color-btn" style="background-color: #A52A2A;" onclick="setTextColor('#A52A2A')" aria-label="Set brown color"></button>
                                                            <button class="color-btn" style="background-color: #808080;" onclick="setTextColor('#808080')" aria-label="Set gray color"></button>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li><div class="dropdown-divider"></div></li>
                                                <li><h6 class="dropdown-header">TEXT SIZE</h6></li>
                                                <li>
                                                    <div class="size-controls p-2">
                                                        <input type="range" class="form-range" min="8" max="72" value="16" id="fontSizeRange" onchange="setFontSize(this.value)" aria-label="Font size slider">
                                                        <div class="d-flex justify-content-between">
                                                            <small>8px</small>
                                                            <small id="currentFontSize">16px</small>
                                                            <small>72px</small>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li><div class="dropdown-divider"></div></li>
                                                <li><h6 class="dropdown-header">TEXT STYLE</h6></li>
                                                <li>
                                                    <div class="style-controls p-2">
                                                        <button class="btn btn-sm btn-outline-secondary me-1" onclick="toggleTextStyle('bold')" aria-label="Toggle bold">
                                                            <i class="fas fa-bold"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-secondary me-1" onclick="toggleTextStyle('italic')" aria-label="Toggle italic">
                                                            <i class="fas fa-italic"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-secondary me-1" onclick="toggleTextStyle('underline')" aria-label="Toggle underline">
                                                            <i class="fas fa-underline"></i>
                                                        </button>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>

                                        <!-- Links Tool -->
                                        <button class="btn btn-outline-primary btn-sm" id="toolLinks" aria-label="Add links">
                                            <i class="fa fa-link"></i> Links
                                        </button>

                                        <!-- Forms Tool -->
                                        <div class="dropdown">
                                            <button class="btn btn-outline-primary btn-sm dropdown-toggle" type="button" id="toolForms" data-bs-toggle="dropdown" aria-label="Form tools">
                                                <i class="fa fa-pen-square"></i> Forms
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><h6 class="dropdown-header">ADD NEW FORM FIELDS</h6></li>
                                                <li><a class="dropdown-item" href="#" onclick="addFormField('text')" aria-label="Add text field"><i class="far fa-square"></i> Text</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addFormField('multiline')" aria-label="Add multiline text field"><i class="far fa-square"></i> Text multiline</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addFormField('dropdown')" aria-label="Add dropdown list"><i class="far fa-square"></i> Drop-down list</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addFormField('radio')" aria-label="Add radio button"><i class="far fa-circle"></i> Radio button</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addFormField('checkbox')" aria-label="Add checkbox"><i class="far fa-check-square"></i> Checkbox</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addFormField('signature')" aria-label="Add signature box"><i class="far fa-square"></i> Signature box</a></li>
                                                <li><div class="dropdown-divider"></div></li>
                                                <li><h6 class="dropdown-header">CHANGE EXISTING FORM FIELDS</h6></li>
                                                <li><a class="dropdown-item" href="#" onclick="toggleFormEditMode()" aria-label="Toggle form edit mode"><i class="fas fa-edit"></i> Form Edit mode</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="changeTabOrder()" aria-label="Change tab order"><i class="fas fa-sort"></i> Change tab order</a></li>
                                            </ul>
                                        </div>

                                        <!-- Images Tool -->
                                        <div class="dropdown">
                                            <button class="btn btn-outline-primary btn-sm dropdown-toggle" type="button" id="toolImages" data-bs-toggle="dropdown" aria-label="Image tools">
                                                <i class="fa fa-image"></i> Images
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="#" onclick="addImage()" aria-label="Add new image"><i class="fas fa-plus"></i> New Image</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="deleteImage()" aria-label="Delete existing image"><i class="fas fa-trash"></i> Delete existing image</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="addStamp()" aria-label="Add new stamp"><i class="fas fa-stamp"></i> New Stamp</a></li>
                                            </ul>
                                        </div>

                                        <!-- Sign Tool -->
                                        <div class="dropdown">
                                            <button class="btn btn-outline-primary btn-sm dropdown-toggle" type="button" id="toolSign" data-bs-toggle="dropdown">
                                                <i class="fa fa-signature"></i> Sign
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><h6 class="dropdown-header">SIGNATURE OPTIONS</h6></li>
                                                <li><a class="dropdown-item" href="#" onclick="showSignatureModal('draw')"><i class="fas fa-pen"></i> Draw Signature</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="showSignatureModal('type')"><i class="fas fa-font"></i> Type Signature</a></li>
                                                <li><a class="dropdown-item" href="#" onclick="showSignatureModal('image')"><i class="fas fa-image"></i> Upload Image</a></li>
                                            </ul>
                                        </div>

                                        <button class="btn btn-outline-primary btn-sm" id="toolWhiteout">
                                            <i class="fa fa-eraser"></i> Whiteout
                                        </button>

                                        <div class="dropdown">
                                            <button class="btn btn-outline-primary btn-sm dropdown-toggle" type="button" id="toolAnnotate" data-bs-toggle="dropdown">
                                                <i class="fa fa-pencil-alt"></i> Annotate
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><div class="dropdown-item">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="showAnnotations">
                                                        <label class="form-check-label" for="showAnnotations">Show annotations</label>
                                                    </div>
                                                </div></li>
                                                <li><h6 class="dropdown-header">TEXT</h6></li>
                                                <li><a class="dropdown-item" href="#">
                                                    <span>Strike out</span>
                                                    <div class="color-dots">
                                                        <span class="dot" style="background: #ff0000"></span>
                                                        <span class="dot" style="background: #ffa500"></span>
                                                        <span class="dot" style="background: #ffff00"></span>
                                                    </div>
                                                </a></li>
                                                <li><a class="dropdown-item" href="#">
                                                    <span>Highlight</span>
                                                    <div class="color-dots">
                                                        <span class="dot" style="background: #ffff00"></span>
                                                        <span class="dot" style="background: #ffa500"></span>
                                                        <span class="dot" style="background: #00ff00"></span>
                                                        <span class="dot" style="background: #00ffff"></span>
                                                        <span class="dot" style="background: #ffffff"></span>
                                                    </div>
                                                </a></li>
                                                <li><a class="dropdown-item" href="#">
                                                    <span>Underline</span>
                                                    <div class="color-dots">
                                                        <span class="dot" style="background: #ffff00"></span>
                                                        <span class="dot" style="background: #ffa500"></span>
                                                        <span class="dot" style="background: #00ff00"></span>
                                                        <span class="dot" style="background: #00ffff"></span>
                                                        <span class="dot" style="background: #ffffff"></span>
                                                    </div>
                                                </a></li>
                                                <li><h6 class="dropdown-header">FREEHAND</h6></li>
                                                <li><a class="dropdown-item" href="#">
                                                    <span>Highlight</span>
                                                    <div class="color-dots">
                                                        <span class="dot" style="background: #ffff00"></span>
                                                        <span class="dot" style="background: #ffa500"></span>
                                                        <span class="dot" style="background: #00ff00"></span>
                                                        <span class="dot" style="background: #00ffff"></span>
                                                        <span class="dot" style="background: #ffffff"></span>
                                                    </div>
                                                </a></li>
                                                <li><a class="dropdown-item" href="#">
                                                    <span>Draw</span>
                                                    <div class="color-dots">
                                                        <span class="dot" style="background: #ffff00"></span>
                                                        <span class="dot" style="background: #ffa500"></span>
                                                        <span class="dot" style="background: #00ff00"></span>
                                                        <span class="dot" style="background: #00ffff"></span>
                                                        <span class="dot" style="background: #ffffff"></span>
                                                    </div>
                                                </a></li>
                                            </ul>
                                        </div>

                                        <div class="dropdown">
                                            <button class="btn btn-outline-primary btn-sm dropdown-toggle" type="button" id="toolShapes" data-bs-toggle="dropdown">
                                                <i class="fa fa-shapes"></i> Shapes
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="#"><i class="far fa-circle"></i> Ellipse</a></li>
                                                <li><a class="dropdown-item" href="#"><i class="far fa-square"></i> Rectangle</a></li>
                                                <li><a class="dropdown-item" href="#"><i class="fas fa-minus"></i> Line</a></li>
                                                <li><a class="dropdown-item" href="#"><i class="fas fa-arrow-right"></i> Arrow</a></li>
                                            </ul>
                                        </div>

                                        <button class="btn btn-outline-primary btn-sm" id="toolUndo" onclick="undoLastAction()">
                                            <i class="fa fa-undo"></i> Undo
                                        </button>

                                        <!-- Add Find & Replace -->
                                        <div class="ms-2">
                                            <input type="text" class="form-control form-control-sm" placeholder="Find & Replace" style="width: 150px;">
                                        </div>
                                    </div>

                                    <!-- Upload Section -->
                                    <div class="text-center mb-3 animate__animated animate__fadeInDown">
                                        <button class="btn btn-primary btn-lg shadow-sm" id="uploadBtn" onclick="document.getElementById('pdfUpload').click()">
                                             Upload PDF
                                        </button>
                                        <input type="file" id="pdfUpload" accept="application/pdf" style="display:none;" onchange="handleFileUpload(this)">
                                        <span id="fileName" class="ms-2 text-success fw-bold"></span>
                                    </div>

                                    <!-- Drop Zone -->
                                    <div id="pdfDropZone" class="mb-3 p-4 border border-2 border-dashed rounded bg-white text-center animate__animated animate__fadeIn" 
                                         style="min-height:80px; cursor:pointer;"
                                         ondragover="handleDragOver(event)"
                                         ondrop="handleDrop(event)"
                                         ondragleave="handleDragLeave(event)">
                                        <span class="text-muted"> Drag & drop your PDF here</span>
                                    </div>

                                    <!-- PDF Viewer -->
                                    <div id="pdfViewer" style="min-height:350px; border:1px solid #eee; background:#fafbfc; border-radius:8px; display:flex; align-items:center; justify-content:center; overflow:auto;">
                                        <span class="text-muted">No PDF loaded. Please upload a file.</span>
                                    </div>

                                    <!-- Insert Page Button -->
                                    <div class="d-flex justify-content-center mt-3">
                                        <button class="btn btn-outline-info btn-sm" id="insertPageBtn" onclick="insertNewPage()">
                                            <i class="fa fa-plus"></i> Insert page here
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <style>
                    .pdf-toolbar button {
                        transition: all 0.2s ease;
                    }
                    .pdf-toolbar button:hover {
                        transform: translateY(-2px);
                        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                    }
                    .pdf-toolbar button.active {
                        background-color: var(--primary-color);
                        color: white;
                    }
                    #pdfDropZone.dragover {
                        border-color: var(--primary-color);
                        background-color: rgba(var(--primary-color-rgb), 0.1);
                    }
                </style>

                <script>
                    // PDF.js library initialization
                        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';

                        // State management
                        let currentPDF = null;
                        let currentPage = 1;
                        let pdfDoc = null;
                        let undoStack = [];
                        let currentTool = null;
                    let selectedColor = '#ffff00';
                    let annotations = [];
                    let isDrawing = false;
                    let lastX = 0;
                    let lastY = 0;

                    // Initialize PDF viewer
                    const pdfViewer = document.getElementById('pdfViewer');
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    pdfViewer.appendChild(canvas);

                    // Tool buttons initialization
                        const toolButtons = {
                            text: document.getElementById('toolText'),
                            links: document.getElementById('toolLinks'),
                            forms: document.getElementById('toolForms'),
                            images: document.getElementById('toolImages'),
                            sign: document.getElementById('toolSign'),
                            whiteout: document.getElementById('toolWhiteout'),
                            annotate: document.getElementById('toolAnnotate'),
                            shapes: document.getElementById('toolShapes')
                        };

                    // Initialize all tools
                    function initializeTools() {
                        // Text tool
                         document.querySelectorAll('#toolText + .dropdown-menu .dropdown-item').forEach(item => {
                            item.addEventListener('click', (e) => {
                                 e.preventDefault();
                                const text = item.textContent.trim();
                                addText(text);
                             });
                         });

                        // Links tool
                        document.getElementById('toolLinks').addEventListener('click', () => {
                            const url = prompt('Enter URL:');
                            if (url) {
                                addLink(url);
                            }
                        });

                        // Forms tool
                        document.querySelectorAll('#toolForms + .dropdown-menu .dropdown-item').forEach(item => {
                            item.addEventListener('click', (e) => {
                                e.preventDefault();
                                const formType = item.querySelector('i').className;
                                addFormField(formType);
                            });
                         });

                        // Images tool
                        document.querySelectorAll('#toolImages + .dropdown-menu .dropdown-item').forEach(item => {
                             item.addEventListener('click', (e) => {
                                 e.preventDefault();
                                 const action = item.querySelector('i').className;
                                if (action.includes('plus')) {
                                    addImage();
                                } else if (action.includes('trash')) {
                                    deleteImage();
                                } else if (action.includes('stamp')) {
                                    addStamp();
                                }
                             });
                         });

                        // Sign tool
                        document.querySelector('#toolSign + .dropdown-menu .dropdown-item').addEventListener('click', (e) => {
                                e.preventDefault();
                            addSignature();
                         });

                        // Whiteout tool
                        document.getElementById('toolWhiteout').addEventListener('click', () => {
                            activateTool('whiteout');
                        });

                        // Annotate tool
                        document.querySelectorAll('#toolAnnotate + .dropdown-menu .dropdown-item').forEach(item => {
                             item.addEventListener('click', (e) => {
                                 e.preventDefault();
                                const annotationType = item.querySelector('span').textContent.trim();
                                const color = item.querySelector('.dot').style.background;
                                addAnnotation(annotationType, color);
                             });
                         });

                        // Shapes tool
                        document.querySelectorAll('#toolShapes + .dropdown-menu .dropdown-item').forEach(item => {
                            item.addEventListener('click', (e) => {
                                e.preventDefault();
                                const shapeType = item.querySelector('i').className;
                                addShape(shapeType);
                            });
                         });

                        // Color dots
                        document.querySelectorAll('.dot').forEach(dot => {
                            dot.addEventListener('click', (e) => {
                                e.stopPropagation();
                                selectedColor = e.target.style.background;
                                document.querySelectorAll('.dot').forEach(d => d.classList.remove('selected'));
                                e.target.classList.add('selected');
                            });
                        });
                    }

                    // Tool activation
                    function activateTool(toolName) {
                        if (currentTool) {
                            toolButtons[currentTool].classList.remove('active');
                        }
                        currentTool = toolName;
                        toolButtons[toolName].classList.add('active');
                        
                        // Update cursor based on tool
                        switch(toolName) {
                            case 'text':
                                canvas.style.cursor = 'text';
                                break;
                            case 'whiteout':
                                canvas.style.cursor = 'crosshair';
                                break;
                            case 'annotate':
                                canvas.style.cursor = 'pointer';
                                break;
                            default:
                                canvas.style.cursor = 'default';
                        }
                    }

                    // Add text
                    function addText(text, font = currentFont) {
                        const textAnnotation = {
                            type: 'text',
                            text: text,
                            x: 100,
                            y: 100,
                            color: currentTextColor,
                            font: font,
                            fontSize: currentFontSize,
                            styles: {...currentTextStyles},
                            id: Date.now()
                        };
                        annotations.push(textAnnotation);
                        renderAnnotation(textAnnotation);
                    }

                    // Add link
                    function addLink(url) {
                        const linkAnnotation = {
                            type: 'link',
                            url: url,
                            x: 100,
                            y: 100
                        };
                        annotations.push(linkAnnotation);
                        renderAnnotation(linkAnnotation);
                    }

                    // Add form field
                    function addFormField(type) {
                        const formField = {
                            type: 'form',
                            fieldType: type,
                            x: 100,
                            y: 100
                        };
                        annotations.push(formField);
                        renderAnnotation(formField);
                    }

                    // Add image
                    function addImage() {
                        const input = document.createElement('input');
                        input.type = 'file';
                        input.accept = 'image/*';
                        input.onchange = (e) => {
                            const file = e.target.files[0];
                            if (file) {
                                const reader = new FileReader();
                                reader.onload = (event) => {
                                    const imageAnnotation = {
                                        type: 'image',
                                        src: event.target.result,
                                        x: 100,
                                        y: 100
                                    };
                                    annotations.push(imageAnnotation);
                                    renderAnnotation(imageAnnotation);
                                };
                                reader.readAsDataURL(file);
                            }
                        };
                        input.click();
                    }

                    // Add signature
                    function addSignature() {
                        const signaturePad = document.createElement('canvas');
                        signaturePad.width = 300;
                        signaturePad.height = 100;
                        const sigCtx = signaturePad.getContext('2d');
                        let isDrawing = false;

                        const modal = document.createElement('div');
                        modal.style.position = 'fixed';
                        modal.style.top = '50%';
                        modal.style.left = '50%';
                        modal.style.transform = 'translate(-50%, -50%)';
                        modal.style.background = 'white';
                        modal.style.padding = '20px';
                        modal.style.border = '1px solid #ccc';
                        modal.appendChild(signaturePad);
                        document.body.appendChild(modal);

                        signaturePad.onmousedown = (e) => {
                            isDrawing = true;
                            sigCtx.beginPath();
                            sigCtx.moveTo(e.offsetX, e.offsetY);
                        };

                        signaturePad.onmousemove = (e) => {
                            if (isDrawing) {
                                sigCtx.lineTo(e.offsetX, e.offsetY);
                                sigCtx.stroke();
                            }
                        };

                        signaturePad.onmouseup = () => {
                            isDrawing = false;
                            const signatureAnnotation = {
                                type: 'signature',
                                image: signaturePad.toDataURL(),
                                x: 100,
                                y: 100
                            };
                            annotations.push(signatureAnnotation);
                            renderAnnotation(signatureAnnotation);
                            document.body.removeChild(modal);
                        };
                    }

                    // Add annotation
                    function addAnnotation(type, color) {
                        const annotation = {
                            type: type,
                            color: color,
                            x: 100,
                            y: 100
                        };
                        annotations.push(annotation);
                        renderAnnotation(annotation);
                    }

                    // Add shape
                    function addShape(type) {
                        const shape = {
                            type: 'shape',
                            shapeType: type,
                            x: 100,
                            y: 100,
                            color: selectedColor
                        };
                        annotations.push(shape);
                        renderAnnotation(shape);
                    }

                    // Render annotation
                    function renderAnnotation(annotation) {
                        const element = document.createElement('div');
                        element.className = `annotation ${annotation.type}-annotation`;
                                 element.style.left = `${annotation.x}px`;
                                 element.style.top = `${annotation.y}px`;

                        switch (annotation.type) {
                            case 'text':
                                element.textContent = annotation.text;
                                element.style.color = annotation.color;
                                element.style.fontFamily = annotation.font;
                                element.style.position = 'absolute';
                               element.style.cursor = 'move';
                                element.draggable = true;
                                
                                // Add text editing capability
                                element.contentEditable = true;
                                element.addEventListener('blur', function() {
                                    annotation.text = this.textContent;
                                });
                                
                                // Add drag functionality
                                element.addEventListener('dragstart', function(e) {
                                    e.dataTransfer.setData('text/plain', '');
                                    this.style.opacity = '0.5';
                                });
                                
                                element.addEventListener('dragend', function(e) {
                                    this.style.opacity = '1';
                                    annotation.x = e.clientX - pdfViewer.getBoundingClientRect().left;
                                    annotation.y = e.clientY - pdfViewer.getBoundingClientRect().top;
                                    this.style.left = `${annotation.x}px`;
                                    this.style.top = `${annotation.y}px`;
                                });
                                break;
                            case 'link':
                                element.textContent = 'Link';
                                element.onclick = () => window.open(annotation.url);
                                break;
                            case 'form':
                                const input = document.createElement('input');
                                input.type = annotation.fieldType.includes('multiline') ? 'textarea' : 'text';
                                element.appendChild(input);
                                break;
                            case 'image':
                                const img = document.createElement('img');
                                img.src = annotation.src;
                                element.appendChild(img);
                                break;
                            case 'signature':
                                const sigImg = document.createElement('img');
                                sigImg.src = annotation.image;
                                element.appendChild(sigImg);
                                break;
                            case 'whiteout':
                                element.style.background = 'white';
                                element.style.width = '100px';
                                element.style.height = '30px';
                                break;
                            case 'shape':
                                element.style.border = `2px solid ${annotation.color}`;
                                element.style.width = '50px';
                                element.style.height = '50px';
                                if (annotation.shapeType.includes('circle')) {
                                    element.style.borderRadius = '50%';
                                }
                                break;
                        }

                        pdfViewer.appendChild(element);
                    }

                    // Undo last action
                    function undoLastAction() {
                          if (annotations.length > 0) {
                            annotations.pop();
                            const lastAnnotation = pdfViewer.lastChild;
                            if (lastAnnotation) {
                                pdfViewer.removeChild(lastAnnotation);
                            }
                           }
                     }

                    // Initialize tools when document is loaded
                    document.addEventListener('DOMContentLoaded', () => {
                        initializeTools();
                    });

                        // File upload handling
                        function handleFileUpload(input) {
                            const file = input.files[0];
                            if (file && file.type === 'application/pdf') {
                                const reader = new FileReader();
                                reader.onload = function(e) {
                                    loadPDF(e.target.result);
                                    document.getElementById('fileName').textContent = file.name;
                                    document.getElementById('fileName').classList.add('text-success');
                                    enableTools();
                                };
                                reader.readAsArrayBuffer(file);
                            }
                        }

                        // Load PDF function
                        async function loadPDF(data) {
                            try {
                                pdfDoc = await pdfjsLib.getDocument({data}).promise;
                                renderPage(currentPage);
                                undoStack = [];
                            } catch (error) {
                                console.error('Error loading PDF:', error);
                                alert('Error loading PDF. Please try again.');
                            }
                        }

                        // Render PDF page
                        async function renderPage(pageNumber) {
                            try {
                                const page = await pdfDoc.getPage(pageNumber);
                                const viewport = page.getViewport({scale: 1.5});

                                canvas.height = viewport.height;
                                canvas.width = viewport.width;

                                await page.render({
                                    canvasContext: ctx,
                                    viewport: viewport
                                }).promise;

                                // Add text layer
                                const textContent = await page.getTextContent();
                                     renderTextLayer(textContent, viewport);

                            } catch (error) {
                                console.error('Error rendering page:', error);
                            }
                        }

                        // Render text layer
                        function renderTextLayer(textContent, viewport) {
                            // Remove existing text layer elements
                            document.querySelectorAll('.textLayer').forEach(el => el.remove());

                            const textLayerDiv = document.createElement('div');
                            textLayerDiv.className = 'textLayer';
                            textLayerDiv.style.position = 'absolute';
                            textLayerDiv.style.left = '0';
                            textLayerDiv.style.top = '0';
                            textLayerDiv.style.width = `${canvas.width}px`;
                            textLayerDiv.style.height = `${canvas.height}px`;
                            textLayerDiv.style.pointerEvents = 'auto'; // Allow interaction with text elements
                            textLayerDiv.style.overflow = 'hidden'; // Hide text elements outside the viewport
                            textLayerDiv.style.zIndex = '1'; // Ensure text layer is above canvas

                            textContent.items.forEach(item => {
                                const textDiv = document.createElement('div');
                                textDiv.style.position = 'absolute';
                                // PDF.js text item coordinates are bottom-left. Convert to top-left.
                                textDiv.style.left = `${item.transform[4] * viewport.scale}px`;
                                // item.transform[5] is the y-coordinate from the bottom
                                // item.height is the height of the text run
                                // We need top = (viewport height) - (y from bottom) - (text run height)
                                // However, transform[5] * scale already gives the bottom position relative to the scaled viewport bottom
                                // So, top = (viewport height) - (bottom position relative to scaled viewport bottom)
                                textDiv.style.top = `${viewport.height - item.transform[5] * viewport.scale}px`;

                                // Adjust top position by line height or font size for better alignment
                                // item.transform[0] is often the font size, assuming no scaling in x-direction
                                const fontSize = item.transform[0] * viewport.scale;
                                textDiv.style.fontSize = `${fontSize}px`;

                                // Estimate line height to adjust vertical position
                                // This is a heuristic and might not be perfect for all fonts/PDFs
                                const lineHeight = fontSize * 1.2; // A common multiplier
                                textDiv.style.top = `${viewport.height - item.transform[5] * viewport.scale - lineHeight}px`;

                                textDiv.style.fontFamily = item.fontName; // This might need mapping to actual font names
                                textDiv.textContent = item.str;
                                textDiv.style.pointerEvents = 'auto'; // Make text elements clickable
                                textDiv.style.color = 'transparent'; // Make text invisible but selectable
                                textDiv.style.caretColor = 'black'; // Show caret when editing

                                textDiv.contentEditable = true;
                                textDiv.style.userSelect = 'text';
                                textDiv.style.whiteSpace = 'pre'; // Preserve spaces
                                textDiv.style.transformOrigin = '0% 0%'; // Set transform origin for potential scaling
                                // Apply scaled font size directly. transform[0] is usually font size * scaleX.
                                // For text, scaleX and scaleY are usually the same (transform[0] and transform[3]).
                                // We use transform[0] for font size assuming uniform scaling.
                                textDiv.style.fontSize = `${item.transform[0] * viewport.scale}px`;
                                textDiv.style.transform = `scaleY(${item.transform[3] / item.transform[0]})`; // Adjust for non-uniform scaling if needed

                                // Position using item.transform matrix for more accuracy
                                // The transform matrix is [scaleX, skewY, skewX, scaleY, offsetX, offsetY]
                                // offsetX and offsetY are translation values in PDF units
                                const [scaleX, skewY, skewX, scaleY, offsetX, offsetY] = item.transform;
                                const top = (viewport.height - (offsetY + item.height) * viewport.scale);
                                const left = offsetX * viewport.scale;

                                textDiv.style.left = `${left}px`;
                                textDiv.style.top = `${top}px`;
                                textDiv.style.fontSize = `${item.height * viewport.scale}px`; // Use item.height * scale for approximate font size
                                textDiv.style.height = `${item.height * viewport.scale}px`; // Set height to match item height
                                textDiv.style.lineHeight = `${item.height * viewport.scale}px`; // Set line height


                                textDiv.addEventListener('blur', function() {
                                    console.log('Text edited:', this.textContent);
                                    // Future: Update the annotation or handle saving.
                                });

                                // Add click listener to focus and select text
                                textDiv.addEventListener('click', function(e) {
                                    // Prevent the default click behavior if needed
                                    // e.preventDefault();
                                    // e.stopPropagation(); // Stop event from bubbling up

                                    // Focus the element to enable editing
                                    this.focus();

                                    // Optional: Select the text after focusing
                                    // const range = document.createRange();
                                    // range.selectNodeContents(this);
                                    // const selection = window.getSelection();
                                    // selection.removeAllRanges();
                                    // selection.addRange(range);
                                });

                                textLayerDiv.appendChild(textDiv);
                            });

                            pdfViewer.appendChild(textLayerDiv);

                             // Ensure annotations are above the text layer
                             document.querySelectorAll('.annotation').forEach(el => el.style.zIndex = '1000');
                        }

                        // Enable editing tools
                        function enableTools() {
                            Object.values(toolButtons).forEach(button => {
                                if (button) {
                                    button.disabled = false;
                                }
                            });
                            document.getElementById('insertPageBtn').disabled = false;
                            // The text layer divs are already pointer-events: auto
                        }

                        // Insert new page
                        function insertNewPage() {
                            if (pdfDoc) {
                                // This is complex with PDF.js as it's primarily a viewer.
                                // Adding/removing pages requires a PDF manipulation library.
                                alert('Inserting a new page is a complex operation that requires modifying the PDF structure, which is not fully supported in this client-side viewer. This feature is placeholder.');
                            } else {
                                alert('Please load a PDF first.');
                            }
                        }

                        // Drag and drop handling
                        const dropZone = document.getElementById('pdfDropZone');

                        dropZone.addEventListener('dragover', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            dropZone.classList.add('dragover');
                        });

                        dropZone.addEventListener('dragleave', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            dropZone.classList.remove('dragover');
                        });

                        dropZone.addEventListener('drop', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            dropZone.classList.remove('dragover');
                            
                            const file = e.dataTransfer.files[0];
                            if (file && file.type === 'application/pdf') {
                                const reader = new FileReader();
                                reader.onload = function(e) {
                                    loadPDF(e.target.result);
                                    document.getElementById('fileName').textContent = file.name;
                                    document.getElementById('fileName').classList.add('text-success');
                                    enableTools();
                                };
                                reader.readAsArrayBuffer(file);
                            }
                        });

                        // Find & Replace functionality
                        const findReplaceInput = document.querySelector('input[placeholder="Find & Replace"]');
                        findReplaceInput.addEventListener('keyup', (e) => {
                            if (e.key === 'Enter' && pdfDoc) {
                                const searchTerm = e.target.value;
                                // Implement search functionality
                                alert(`Searching for: ${searchTerm}`);
                            }
                        });

                        // Initialize tools as disabled
                        Object.values(toolButtons).forEach(button => {
                            if (button) {
                                button.disabled = true;
                            }
                        });
                        document.getElementById('insertPageBtn').disabled = true;

                        // Attach file upload handler
                        document.getElementById('pdfUpload').addEventListener('change', function() {
                            handleFileUpload(this);
                        });

                        // Export edited PDF
                        window.exportPDF = function() {
                            if (pdfDoc) {
                                // Implement PDF export logic
                                const blob = new Blob([currentPDF], { type: 'application/pdf' });
                                const url = URL.createObjectURL(blob);
                                const a = document.createElement('a');
                                a.href = url;
                                a.download = 'edited-document.pdf';
                                a.click();
                                URL.revokeObjectURL(url);
                            }
                        };
                </script>
                        </div>
                                </div>
                </section>

                <!-- Tool Info Buttons -->
                <div class="tool-info-buttons mb-4" data-aos="fade-up">
                    <div class="tool-info-buttons-container">
                        <a href="javascript:void(0);" class="btn info-button active-info-button">
                            <i class="fas fa-info-circle"></i> About This Tool
                        </a>
                        <a href="javascript:void(0);" class="btn info-button">
                            <i class="fas fa-book"></i> How to Use
                        </a>
                        <a href="javascript:void(0);" class="btn info-button">
                            <i class="fas fa-align-left"></i> Description
                        </a>
                            </div>

                    <div class="tool-description-box p-3">
                        <!-- Content for About This Tool -->
                        <p>About_This_TOOL</p>
                        <!-- Example: Explain what the tool does, its benefits, key features etc. -->
                    </div>
                    <div class="steps-container mt-3">
                        <!-- Content for How to Use -->
                        <ol class="list-group list-group-numbered" style="counter-reset: item;">
                                        <li class="list-group-item">
                                            <span>STEP_1</span>
                                        </li>
                                        <li class="list-group-item">
                                            <span>STEP_2</span>
                                        </li>
                                        <li class="list-group-item">
                                            <span>STEP_3</span>
                                        </li>
                                    </ol>
                                </div>
                    <div class="tool-info-content mt-3">
                        <!-- Content for Description -->
                        <p>Free online Edit Pdf tool</p>
                        </div>
                    </div>

                <!-- Review and Rating Section -->
                <section class="review-rating-section mb-4" data-aos="fade-up">
                    <div class="card shadow-sm border-0">
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-5">
                                    <h3 class="review-section-title">Reviews & Ratings</h3>
                                    <div class="overall-rating-summary mb-3 p-3 rounded">
                                        <div class="large-rating text-center mb-2">
                                            <span class="rating-value display-4 fw-bold">4.5</span>
                                            <span class="text-muted">/5</span>
                                </div>
                                        <div class="stars text-center mb-2">
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star-half-alt text-warning"></i>
                            </div>
                                        <div class="review-count text-center mb-3">
                                            <span class="text-muted">Based on 19 reviews</span>
                        </div>
                                        <div class="text-center">
                                            <button class="btn btn-primary btn-sm px-4 rounded-pill" data-bs-toggle="modal" data-bs-target="#reviewModal">
                                                <i class="fas fa-edit me-1"></i> Write a Review
                                            </button>
                    </div>
                                    </div>
                                </div>
                                <div class="col-md-7">
                                    <h4 class="most-recent-title mb-3">Rating Details</h4>
                                    <div class="mb-3">
                                        <p class="text-muted small mb-2">Rating breakdown:</p>
                                        <div class="d-flex align-items-center mb-1">
                                            <div class="small me-2">5 stars</div>
                                            <div class="progress flex-grow-1" style="height: 8px;">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: 75%"></div>
                                            </div>
                                            <div class="small ms-2">75%</div>
                                        </div>
                                        <div class="d-flex align-items-center mb-1">
                                            <div class="small me-2">4 stars</div>
                                            <div class="progress flex-grow-1" style="height: 8px;">
                                                <div class="progress-bar bg-info" role="progressbar" style="width: 15%"></div>
                                            </div>
                                            <div class="small ms-2">15%</div>
                                        </div>
                                        <div class="d-flex align-items-center mb-1">
                                            <div class="small me-2">3 stars</div>
                                            <div class="progress flex-grow-1" style="height: 8px;">
                                                <div class="progress-bar bg-primary" role="progressbar" style="width: 5%"></div>
                                            </div>
                                            <div class="small ms-2">5%</div>
                                        </div>
                                        <div class="d-flex align-items-center mb-1">
                                            <div class="small me-2">2 stars</div>
                                            <div class="progress flex-grow-1" style="height: 8px;">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 3%"></div>
                                            </div>
                                            <div class="small ms-2">3%</div>
                                        </div>
                                        <div class="d-flex align-items-center mb-1">
                                            <div class="small me-2">1 star</div>
                                            <div class="progress flex-grow-1" style="height: 8px;">
                                                <div class="progress-bar bg-danger" role="progressbar" style="width: 2%"></div>
                                            </div>
                                            <div class="small ms-2">2%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Tool Features Section -->
                <section class="tool-features mb-4" data-aos="fade-up">
                    <h3 class="section-title">Features</h3>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <div class="feature-card">
                                <div class="feature-icon"></div>
                                <h4>Fast Processing</h4>
                                <p>Process your data quickly with our optimized algorithms</p>
                                </div>
                            </div>
                        <div class="col-md-4">
                            <div class="feature-card">
                                <div class="feature-icon"></div>
                                <h4>Secure</h4>
                                <p>Your data is processed locally, never sent to any server</p>
                        </div>
                    </div>
                        <div class="col-md-4">
                            <div class="feature-card">
                                <div class="feature-icon"></div>
                                <h4>Accurate</h4>
                                <p>Get precise and reliable results every time</p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- FAQ Section -->
                <section class="faq-section mb-4" data-aos="fade-up">
                    <h2 class="section-title"> Frequently Asked Questions (FAQ)</h2>
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faqHeadingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseOne">
                                   Is Edit Pdf really free to use?
                                </button>
                            </h2>
                            <div id="faqCollapseOne" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                  Yes!  Our Edit Pdf tool is 100% free with no hidden charges. Enjoy unlimited PDF editing, merging, splitting, compressing, and moreno registration required!
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faqHeadingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseTwo">
                                   Is my PDF file safe and private?
                                </button>
                            </h2>
                            <div id="faqCollapseTwo" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                  Absolutely!  All processing is done locally in your browser. Your files never leave your device, ensuring maximum privacy and security.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faqHeadingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseThree">
                                   What features does Edit Pdf offer?
                                </button>
                            </h2>
                            <div id="faqCollapseThree" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                  Edit Pdf offers <b>text/image editing, page management, merge, split, compress, protect, unlock, sign, watermark, OCR, export, and more</b>all in one tool! 
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faqHeadingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseFour">
                                   Can I sign or add a watermark to my PDF?
                                </button>
                            </h2>
                            <div id="faqCollapseFour" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                  Yes! You can <b>add e-signatures, watermarks, and stamps</b> to any PDF instantly. Just upload, edit, and downloadno hassle! 
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faqHeadingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseFive">
                                   Does it work on mobile and tablet?
                                </button>
                            </h2>
                            <div id="faqCollapseFive" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                  Yes! Our PDF editor is <b>fully responsive</b> and works perfectly on all devicesdesktop, tablet, and mobile. 
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- FAQ Schema.org Structured Data -->
                    <script type="application/ld+json">
                    {
                      "@context": "https://schema.org",
                      "@type": "FAQPage",
                      "mainEntity": [
                        {
                          "@type": "Question",
                          "name": "Is Edit Pdf really free to use?",
                          "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Yes! Our Edit Pdf tool is 100% free with no hidden charges. Enjoy unlimited PDF editing, merging, splitting, compressing, and moreno registration required!"
                          }
                        },
                        {
                          "@type": "Question",
                          "name": "Is my PDF file safe and private?",
                          "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Absolutely! All processing is done locally in your browser. Your files never leave your device, ensuring maximum privacy and security."
                          }
                        },
                        {
                          "@type": "Question",
                          "name": "What features does Edit Pdf offer?",
                          "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Edit Pdf offers text/image editing, page management, merge, split, compress, protect, unlock, sign, watermark, OCR, export, and moreall in one tool!"
                          }
                        },
                        {
                          "@type": "Question",
                          "name": "Can I sign or add a watermark to my PDF?",
                          "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Yes! You can add e-signatures, watermarks, and stamps to any PDF instantly. Just upload, edit, and downloadno hassle!"
                          }
                        },
                        {
                          "@type": "Question",
                          "name": "Does it work on mobile and tablet?",
                          "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Yes! Our PDF editor is fully responsive and works perfectly on all devicesdesktop, tablet, and mobile."
                          }
                        }
                      ]
                    }
                    </script>
                </section>
                
                    <!-- Bottom Ad Space -->
                    <div class="ad-space horizontal" data-aos="fade-up">
                        <div>Advertisement Space</div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="col-lg-4 tool-sidebar">
                <!-- Sidebar Ad Space -->
                <div class="ad-space vertical" data-aos="fade-left">
                    <div>Advertisement Space</div>
                </div>

                <!-- Related Tools -->
                <div class="card mb-4" data-aos="fade-left">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="fas fa-tools"></i>
                            Related Tools
                        </h5>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <i class="fas fa-chevron-right"></i>
                                <a href="merge-pdf.html">Merge PDF</a>
                            </li>
                            <li class="list-group-item">
                                <i class="fas fa-chevron-right"></i>
                                <a href="split-pdf.html">Split PDF</a>
                            </li>
                            <li class="list-group-item">
                                <i class="fas fa-chevron-right"></i>
                                <a href="compress-pdf.html">Compress PDF</a>
                            </li>
                            <li class="list-group-item">
                                <i class="fas fa-chevron-right"></i>
                                <a href="organize-pdf.html">Organize PDF</a>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Popular Tools -->
                <div class="card mb-4" data-aos="fade-left">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="fas fa-star"></i>
                            Popular Tools
                        </h5>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <i class="fas fa-chevron-right"></i>
                                <a href="merge-pdf.html">Merge PDF</a>
                            </li>
                            <li class="list-group-item">
                                <i class="fas fa-chevron-right"></i>
                                <a href="compress-pdf.html">Compress PDF</a>
                            </li>
                            <li class="list-group-item">
                                <i class="fas fa-chevron-right"></i>
                                <a href="split-pdf.html">Split PDF</a>
                            </li>
                            <li class="list-group-item">
                                <i class="fas fa-chevron-right"></i>
                                <a href="protect-pdf.html">Protect PDF</a>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Bottom Sidebar Ad Space -->
                <div class="ad-space square" data-aos="fade-left">
                    <div>Advertisement Space</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Testimonials Section -->
    <section class="testimonials-section py-5 bg-light">
        <div class="container">
            <h2 class="section-title text-center mb-4" data-aos="fade-up">Most Recent Reviews</h2>
            <div id="allRecentReviews" class="row">
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="testimonial-card">
                        <div class="testimonial-rating"></div>
                        <p class="testimonial-text">"Finally found a reliable PDF editor! Makes text and image editing so simple. The interface is intuitive and user-friendly."</p>
                        <div class="testimonial-author">- Rachel K.</div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="testimonial-card">
                        <div class="testimonial-rating"></div>
                        <p class="testimonial-text">"Great for quick PDF edits. I use it daily for work documents and it handles everything perfectly. Love the features!"</p>
                        <div class="testimonial-author">- Daniel M.</div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="testimonial-card">
                        <div class="testimonial-rating"></div>
                        <p class="testimonial-text">"Professional-grade PDF editing without the cost. Easy to use and has all the features I need. Highly recommended!"</p>
                        <div class="testimonial-author">- Sophie L.</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-10 text-center">
                    <h2 class="cta-title">Ready to Try Our Other Tools?</h2>
                    <p class="cta-text">Explore our collection of 100+ free online tools designed to make your life easier.</p>
                    <a href="../../index.html" class="btn btn-primary btn-lg">
                        <i class="fas fa-toolbox"></i> Browse All Tools
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <!-- About Us -->
                <div class="col-md-4">
                    <div class="footer-about">
                        <h4>About Us</h4>
                        <p>Your trusted source for free online tools. We provide high-quality, easy-to-use tools for all your needs.</p>
                </div>
                </div>

                <!-- Quick Links -->
                <div class="col-md-4">
                    <div class="footer-links">
                        <h4> Quick Links</h4>
                    <ul class="list-unstyled">
                            <li><a href="../../index.html"> Home</a></li>
                            <li><a href="../../about.html"> About</a></li>
                            <li><a href="../../contact.html"> Contact</a></li>
                            <li><a href="../../privacy-policy.html"> Privacy Policy</a></li>
                            <li><a href="../../terms.html"> Terms of Service</a></li>
                            <li><a href="../../disclaimer.html"> Disclaimer</a></li>
                            <li><a href="../../cookie-policy.html"> Cookie Policy</a></li>
                    </ul>
                </div>
                    </div>

                <!-- Connect With Us -->
                <div class="col-md-4">
                    <div class="footer-social">
                        <h4> Connect With Us</h4>
                        <div class="social-links mt-3">
                            <a href="https://www.youtube.com/@toolsnew7" target="_blank" class="me-3 text-decoration-none">
                                <i class="fab fa-youtube fa-2x"></i>
                                <span class="ms-2">YouTube</span>
                            </a>
                            <br>
                            <a href="https://www.facebook.com/profile.php?id=61574866457908" target="_blank" class="me-3 text-decoration-none mt-2 d-inline-block">
                                <i class="fab fa-facebook fa-2x"></i>
                                <span class="ms-2">Facebook</span>
                            </a>
                            <br>
                            <a href="https://www.tiktok.com/@toolsnew7?lang=en" target="_blank" class="me-3 text-decoration-none mt-2 d-inline-block">
                                <i class="fab fa-tiktok fa-2x"></i>
                                <span class="ms-2">TikTok</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="row mt-4">
                <div class="col-12">
                    <div class="footer-copyright text-center">
                        <p>&copy; 2025 Toolsnew. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Review Modal -->
    <div class="modal fade" id="reviewModal" tabindex="-1" aria-labelledby="reviewModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-light">
                    <h5 class="modal-title" id="reviewModalLabel">
                        <i class="fas fa-star text-warning me-2"></i>Rate this Tool
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="reviewForm">
                        <div class="mb-3">
                            <label for="reviewerName" class="form-label fw-bold">Your Name</label>
                            <input type="text" class="form-control" id="reviewerName" placeholder="Enter your name" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-bold">Your Rating</label>
                            <div class="rating-input text-center mb-2">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                            <input type="hidden" id="ratingValue" name="ratingValue" required>
                            <div id="ratingHelp" class="form-text text-center">Click on a star to rate</div>
                        </div>
                        <div class="mb-3">
                            <label for="reviewText" class="form-label fw-bold">Your Review</label>
                            <textarea class="form-control" id="reviewText" rows="4" placeholder="Share your experience with this tool..." required></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer border-0 pt-0">
                    <button type="button" class="btn btn-outline-secondary rounded-pill px-4" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary rounded-pill px-4" form="reviewForm">Submit Review</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../../js/common.js"></script>
    <!-- Tool specific JS -->
    <script src="../js/edit-pdf.js"></script>
    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });

        document.addEventListener('DOMContentLoaded', function() {
            const themeSwitcher = document.getElementById('themeSwitcher');
            const body = document.body;
            const header = document.querySelector('.header');
            const announcementBar = document.querySelector('.announcement-bar');
            const scrollProgress = document.querySelector('.scroll-progress');
            let currentScheme = 1;
            const totalSchemes = 33;
            let lastScrollTop = 0;
            let scrollTimeout;

            // Add announcement bar class to body
            body.classList.add('with-announcement');
            header.classList.add('with-announcement');

            // Color scheme switcher
            themeSwitcher.addEventListener('click', function() {
                currentScheme = (currentScheme % totalSchemes) + 1;
                body.className = body.className.replace(/color-scheme-\d+/g, '').trim();
                body.classList.add(`color-scheme-${currentScheme}`);
                localStorage.setItem('colorScheme', currentScheme);
            });

            // Load saved color scheme
            const savedScheme = localStorage.getItem('colorScheme');
            if (savedScheme) {
                currentScheme = parseInt(savedScheme);
                body.classList.add(`color-scheme-${currentScheme}`);
            }

            // Scroll handler
            window.addEventListener('scroll', function() {
                           const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                
                // Update scroll progress
                const progress = (scrollTop / scrollHeight) * 100;
                scrollProgress.style.transform = `scaleX(${progress / 100})`;
            });

            // Info buttons functionality
            const infoButtons = document.querySelectorAll('.info-button');
            const aboutButton = infoButtons[0];
            const howToButton = infoButtons[1];
            const descButton = infoButtons[2];
            const descriptionBox = document.querySelector('.tool-description-box');
            const stepsContainer = document.querySelector('.steps-container');
            const toolInfoContent = document.querySelector('.tool-info-content');
            
            // Initially hide steps and info content
            stepsContainer.style.display = 'none';
            toolInfoContent.style.display = 'none';
            
            // Apply initial active state
            aboutButton.classList.add('active-info-button');
            
            // Animate description box entrance
            descriptionBox.style.opacity = '0';
            setTimeout(() => {
                descriptionBox.style.opacity = '1';
                descriptionBox.style.transform = 'translateY(0)';
            }, 300);
            
            // Helper function to hide all content
            function hideAllContent() {
                descriptionBox.style.opacity = '0';
                stepsContainer.style.opacity = '0';
                toolInfoContent.style.opacity = '0';
                
                setTimeout(() => {
                    descriptionBox.style.display = 'none';
                    stepsContainer.style.display = 'none';
                    toolInfoContent.style.display = 'none';
                }, 200);
                
                // Remove active state from all buttons
                infoButtons.forEach(btn => btn.classList.remove('active-info-button'));
            }
            
            // About button click
            aboutButton.addEventListener('click', function() {
                hideAllContent();
                
                // Show description box with animation
                aboutButton.classList.add('active-info-button');
                setTimeout(() => {
                    descriptionBox.style.display = 'block';
                    setTimeout(() => {
                        descriptionBox.style.opacity = '1';
                        descriptionBox.style.transform = 'translateY(0)';
                    }, 50);
                }, 200);
            });
            
            // How to use button click
            howToButton.addEventListener('click', function() {
                hideAllContent();
                
                // Show steps container with animation
                howToButton.classList.add('active-info-button');
                setTimeout(() => {
                    stepsContainer.style.display = 'block';
                    setTimeout(() => {
                        stepsContainer.style.opacity = '1';
                        stepsContainer.style.transform = 'translateY(0)';
                    }, 50);
                }, 200);
            });
            
            // Description button click
            descButton.addEventListener('click', function() {
                hideAllContent();
                
                // Show tool info content with animation
                descButton.classList.add('active-info-button');
                setTimeout(() => {
                    toolInfoContent.style.display = 'block';
                    setTimeout(() => {
                        toolInfoContent.style.opacity = '1';
                        toolInfoContent.style.transform = 'translateY(0)';
                    }, 50);
                }, 200);
            });

            // Remove loading overlay
            const loadingOverlay = document.querySelector('.loading-overlay');
            setTimeout(() => {
                loadingOverlay.style.opacity = '0';
                setTimeout(() => {
                    loadingOverlay.style.display = 'none';
                }, 500);
            }, 1000);

            // Add active class to nav links based on current page
            try {
                const currentPath = window.location.pathname;
                const navLinks = document.querySelectorAll('#navbarNav .nav-link');

                navLinks.forEach(link => {
                    const linkPath = new URL(link.href).pathname;
                    
                    // Remove trailing slashes for comparison
                    const normalizedLinkPath = linkPath.replace(/\/$/, '');
                    const normalizedCurrentPath = currentPath.replace(/\/$/, '');

                    if (normalizedLinkPath === normalizedCurrentPath) {
                        link.classList.add('active');
                        link.setAttribute('aria-current', 'page');
                    } else {
                        link.classList.remove('active');
                        link.removeAttribute('aria-current');
                    }
                });
                                 } catch (e) {
                console.error("Error setting active nav link:", e);
            }

            // Review Modal Star Rating Functionality
            const ratingStars = document.querySelectorAll('.rating-input i');
            const ratingValueInput = document.getElementById('ratingValue');
            const ratingInputContainer = document.querySelector('.rating-input');

            ratingStars.forEach(star => {
                star.addEventListener('mouseover', function() {
                    if (ratingInputContainer.classList.contains('rated')) return; // Don't change on hover if already rated
                    resetStars();
                    const currentValue = this.getAttribute('data-value');
                    highlightStars(currentValue);
                });

                star.addEventListener('mouseout', function() {
                    if (ratingInputContainer.classList.contains('rated')) return;
                    resetStars(); // Reset on mouse out if not rated
                });

                star.addEventListener('click', function() {
                    const currentValue = this.getAttribute('data-value');
                    ratingValueInput.value = currentValue;
                    resetStars(); // Clear first
                    highlightStars(currentValue); // Highlight up to clicked
                    // Mark as rated to freeze hover effect
                    ratingInputContainer.classList.add('rated'); 
                    ratingStars.forEach((s, index) => { // Mark individual stars as selected
                       if (index < currentValue) {
                           s.classList.add('selected');
                       } else {
                           s.classList.remove('selected');
                       }
                    });
                });
            });

            function resetStars() {
                ratingStars.forEach(star => {
                    star.classList.remove('fas', 'selected');
                    star.classList.add('far');
                    star.style.color = '#ccc'; // Explicitly reset color
                });
            }

            function highlightStars(value) {
                for (let i = 0; i < value; i++) {
                    ratingStars[i].classList.remove('far');
                    ratingStars[i].classList.add('fas');
                    ratingStars[i].style.color = '#ffc107'; // Ensure highlight color
                }
            }
            
            // Handle rating reset if modal is closed without submitting
            const reviewModal = document.getElementById('reviewModal');
            reviewModal.addEventListener('hidden.bs.modal', function () {
                 ratingInputContainer.classList.remove('rated');
                 resetStars();
                 ratingValueInput.value = '';
                 // Optionally clear other form fields
                 // document.getElementById('reviewForm').reset();
            });

            // Review Form Submission (Placeholder)
            const reviewForm = document.getElementById('reviewForm');
            const recentReviewsContainer = document.getElementById('recentReviews');
            
            reviewForm.addEventListener('submit', function(event) {
                event.preventDefault();
                const name = document.getElementById('reviewerName').value;
                const rating = document.getElementById('ratingValue').value;
                const reviewText = document.getElementById('reviewText').value;

                if (!rating) {
                    alert('Please select a rating.');
                    return;
                }

                // Generate star HTML based on rating
                let starsHtml = '';
                for (let i = 1; i <= 5; i++) {
                    if (i <= rating) {
                        starsHtml += '<i class="fas fa-star text-warning"></i>';
                    } else if (i - 0.5 === parseFloat(rating)) {
                        starsHtml += '<i class="fas fa-star-half-alt text-warning"></i>';
                          } else {
                        starsHtml += '<i class="far fa-star text-warning"></i>';
                    }
                }
                
                // Current date for "just now" display
                const today = new Date();
                
                // Create new review HTML element for the reviews panel
                const newReview = document.createElement('div');
                newReview.className = 'review-item border-bottom pb-3 mb-3';
                
                // Build the review HTML
                newReview.innerHTML = `
                    <div class="d-flex justify-content-between align-items-center mb-1">
                        <div class="reviewer-info">
                            <span class="reviewer-name fw-bold">${name}</span>
                            <span class="review-date text-muted ms-2">just now</span>
                        </div>
                        <div class="review-rating stars-small">
                            ${starsHtml}
                        </div>
                    </div>
                    <p class="review-text mb-0">"${reviewText}"</p>
                `;
                
                // Add animation class
                newReview.classList.add('animate__animated', 'animate__fadeIn');

                // Create new review for the testimonials section
                const newTestimonial = document.createElement('div');
                newTestimonial.className = 'col-md-4 animate__animated animate__fadeIn';
                newTestimonial.innerHTML = `
                    <div class="testimonial-card">
                        <div class="testimonial-rating">${''.repeat(rating)}</div>
                        <p class="testimonial-text">"${reviewText}"</p>
                        <div class="testimonial-author">- ${name}</div>
                    </div>
                `;
                
                // Add to the beginning of the testimonials container
                const allRecentReviewsContainer = document.getElementById('allRecentReviews');
                if (allRecentReviewsContainer.firstChild) {
                    allRecentReviewsContainer.insertBefore(newTestimonial, allRecentReviewsContainer.firstChild);
                } else {
                    allRecentReviewsContainer.appendChild(newTestimonial);
                }
                
                // Remove oldest testimonial if more than 3
                const allTestimonials = allRecentReviewsContainer.querySelectorAll('.col-md-4');
                if (allTestimonials.length > 3) {
                    allRecentReviewsContainer.removeChild(allTestimonials[allTestimonials.length - 1]);
                }
                
                // Update the average rating and count
                const reviewCountElement = document.querySelector('.review-count .text-muted');
                const countMatch = reviewCountElement.textContent.match(/\d+/);
                if (countMatch) {
                    const newCount = parseInt(countMatch[0]) + 1;
                    reviewCountElement.textContent = `Based on ${newCount} reviews`;
                }
                
                // Close the modal
                const modalInstance = bootstrap.Modal.getInstance(reviewModal);
                modalInstance.hide();
                
                // Clear the form
                reviewForm.reset();
                resetStars();
                ratingInputContainer.classList.remove('rated');
                
                // Show success message
                const successToast = document.createElement('div');
                successToast.className = 'position-fixed bottom-0 end-0 p-3 animate__animated animate__fadeInUp';
                successToast.style.zIndex = "1100";
                successToast.innerHTML = `
                    <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="toast-header bg-success text-white">
                            <i class="fas fa-check-circle me-2"></i>
                            <strong class="me-auto">Success</strong>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                        <div class="toast-body">
                            Thank you for your review! It has been added.
                        </div>
                    </div>
                `;
                document.body.appendChild(successToast);
                
                // Remove the toast after 3 seconds
                setTimeout(() => {
                    successToast.classList.remove('animate__fadeInUp');
                    successToast.classList.add('animate__fadeOutDown');
                    setTimeout(() => {
                        document.body.removeChild(successToast);
                    }, 500);
                }, 3000);
            });

            // Remove loading overlay
        });
    </script>

    <!-- Add Signature Modal -->
    <div class="modal fade" id="signatureModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Signature</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="drawSignature" style="display: none;">
                        <canvas id="signaturePad" width="300" height="150" style="border: 1px solid #ccc;"></canvas>
                        <div class="mt-2">
                            <button class="btn btn-sm btn-secondary" onclick="clearSignature()">Clear</button>
                        </div>
                    </div>
                    <div id="typeSignature" style="display: none;">
                        <input type="text" class="form-control mb-2" id="signatureText" placeholder="Type your signature">
                        <select class="form-select" id="signatureFont">
                            <option value="Brush Script MT">Brush Script MT</option>
                            <option value="Dancing Script">Dancing Script</option>
                            <option value="Great Vibes">Great Vibes</option>
                            <option value="Pacifico">Pacifico</option>
                        </select>
                    </div>
                    <div id="imageSignature" style="display: none;">
                        <input type="file" class="form-control" id="signatureImage" accept="image/*">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveSignature()">Save Signature</button>
                </div>
            </div>
        </div>
    </div>

    <script>
    // ... existing code ...

    let currentFont = 'Arial';
    let signatureMode = 'draw';
    let signaturePad = null;
    let signatureContext = null;

    function setFont(font) {
        currentFont = font;
        // Update text style for new text additions
        const textElements = document.querySelectorAll('.text-annotation');
        textElements.forEach(element => {
            element.style.fontFamily = font;
        });
    }

    function addText(text, font = currentFont) {
        const textAnnotation = {
            type: 'text',
            text: text,
            x: 100,
            y: 100,
            color: currentTextColor,
            font: font,
            fontSize: currentFontSize,
            styles: {...currentTextStyles},
            id: Date.now()
        };
        annotations.push(textAnnotation);
        renderAnnotation(textAnnotation);
    }

    function showSignatureModal(mode) {
        signatureMode = mode;
        const modal = new bootstrap.Modal(document.getElementById('signatureModal'));
        
        // Hide all signature options
        document.getElementById('drawSignature').style.display = 'none';
        document.getElementById('typeSignature').style.display = 'none';
        document.getElementById('imageSignature').style.display = 'none';
        
        // Show selected option
        document.getElementById(mode + 'Signature').style.display = 'block';
        
        if (mode === 'draw') {
            if (!signaturePad) {
                signaturePad = document.getElementById('signaturePad');
                signatureContext = signaturePad.getContext('2d');
                signatureContext.strokeStyle = '#000';
                signatureContext.lineWidth = 2;
                
                let isDrawing = false;
                let lastX = 0;
                let lastY = 0;
                
                signaturePad.addEventListener('mousedown', startDrawing);
                signaturePad.addEventListener('mousemove', draw);
                signaturePad.addEventListener('mouseup', stopDrawing);
                signaturePad.addEventListener('mouseout', stopDrawing);
            }
        }
        
        modal.show();
    }

    function startDrawing(e) {
        isDrawing = true;
        [lastX, lastY] = [e.offsetX, e.offsetY];
    }

    function draw(e) {
        if (!isDrawing) return;
        signatureContext.beginPath();
        signatureContext.moveTo(lastX, lastY);
        signatureContext.lineTo(e.offsetX, e.offsetY);
        signatureContext.stroke();
        [lastX, lastY] = [e.offsetX, e.offsetY];
    }

    function stopDrawing() {
        isDrawing = false;
    }

    function clearSignature() {
        signatureContext.clearRect(0, 0, signaturePad.width, signaturePad.height);
    }

    function saveSignature() {
        let signatureData;
        
        switch(signatureMode) {
            case 'draw':
                signatureData = signaturePad.toDataURL();
                break;
            case 'type':
                const text = document.getElementById('signatureText').value;
                const font = document.getElementById('signatureFont').value;
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = 300;
                canvas.height = 100;
                ctx.font = `30px ${font}`;
                ctx.fillText(text, 10, 50);
                signatureData = canvas.toDataURL();
                break;
            case 'image':
                const file = document.getElementById('signatureImage').files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        signatureData = e.target.result;
                        addSignatureToPDF(signatureData);
                    };
                    reader.readAsDataURL(file);
                    return;
                }
                break;
        }
        
        addSignatureToPDF(signatureData);
    }

    function addSignatureToPDF(signatureData) {
        const signatureAnnotation = {
            type: 'signature',
            image: signatureData,
            x: 100,
            y: 100
        };
        annotations.push(signatureAnnotation);
        renderAnnotation(signatureAnnotation);
        
        // Close modal
        bootstrap.Modal.getInstance(document.getElementById('signatureModal')).hide();
    }

    // Update renderAnnotation function to handle text direction
    function renderAnnotation(annotation) {
        const element = document.createElement('div');
        element.className = `annotation ${annotation.type}-annotation`;
        element.style.left = `${annotation.x}px`;
        element.style.top = `${annotation.y}px`;

        switch (annotation.type) {
            case 'text':
                element.textContent = annotation.text;
                element.style.color = annotation.color;
                element.style.fontFamily = annotation.font;
                element.style.position = 'absolute';
                element.style.cursor = 'move';
                element.draggable = true;
                
                // Add text editing capability
                element.contentEditable = true;
                element.addEventListener('blur', function() {
                    annotation.text = this.textContent;
                });
                
                // Add drag functionality
                element.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', '');
                    this.style.opacity = '0.5';
                });
                
                element.addEventListener('dragend', function(e) {
                    this.style.opacity = '1';
                    annotation.x = e.clientX - pdfViewer.getBoundingClientRect().left;
                    annotation.y = e.clientY - pdfViewer.getBoundingClientRect().top;
                    this.style.left = `${annotation.x}px`;
                    this.style.top = `${annotation.y}px`;
                });
                break;
            case 'link':
                element.textContent = 'Link';
                element.onclick = () => window.open(annotation.url);
                break;
            case 'form':
                const input = document.createElement('input');
                input.type = annotation.fieldType.includes('multiline') ? 'textarea' : 'text';
                element.appendChild(input);
                break;
            case 'image':
                const img = document.createElement('img');
                img.src = annotation.src;
                element.appendChild(img);
                break;
            case 'signature':
                const sigImg = document.createElement('img');
                sigImg.src = annotation.image;
                element.appendChild(sigImg);
                break;
            case 'whiteout':
                element.style.background = 'white';
                element.style.width = '100px';
                element.style.height = '30px';
                break;
            case 'shape':
                element.style.border = `2px solid ${annotation.color}`;
                element.style.width = '50px';
                element.style.height = '50px';
                if (annotation.shapeType.includes('circle')) {
                    element.style.borderRadius = '50%';
                }
                break;
        }

        pdfViewer.appendChild(element);
    }

    // ... existing code ...

    // Add these variables to your existing script
    let currentTextColor = '#000000';
    let currentFontSize = 16;
    let currentTextStyles = {
        bold: false,
        italic: false,
        underline: false
    };

    // Enhanced text tool functions
    function setTextColor(color) {
        currentTextColor = color;
        document.querySelectorAll('.color-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.style.backgroundColor === color) {
                btn.classList.add('active');
            }
        });
        
        // Update selected text if any
        const selectedText = document.querySelector('.text-annotation.editing');
        if (selectedText) {
            selectedText.style.color = color;
        }
    }

    function setFontSize(size) {
        currentFontSize = parseInt(size);
        document.getElementById('currentFontSize').textContent = size + 'px';
        
        // Update selected text if any
        const selectedText = document.querySelector('.text-annotation.editing');
        if (selectedText) {
            selectedText.style.fontSize = size + 'px';
        }
    }

    function toggleTextStyle(style) {
        currentTextStyles[style] = !currentTextStyles[style];
        const button = document.querySelector(`[onclick="toggleTextStyle('${style}')"]`);
        button.classList.toggle('active');
        
        // Update selected text if any
        const selectedText = document.querySelector('.text-annotation.editing');
        if (selectedText) {
            switch(style) {
                case 'bold':
                    selectedText.style.fontWeight = currentTextStyles.bold ? 'bold' : 'normal';
                    break;
                case 'italic':
                    selectedText.style.fontStyle = currentTextStyles.italic ? 'italic' : 'normal';
                    break;
                case 'underline':
                    selectedText.style.textDecoration = currentTextStyles.underline ? 'underline' : 'none';
                    break;
            }
        }
    }

    // Text tool implementation
    function addText(text) {
        const textAnnotation = {
            type: 'text',
            text: text || 'New Text',
            x: 100,
            y: 100,
            color: '#000000',
            font: 'Arial',
            size: '16px',
            isEditing: true
        };
        annotations.push(textAnnotation);
        renderAnnotation(textAnnotation);
    }

    // Enhanced text editing functionality
    function initializeTextTool() {
        const textTool = document.getElementById('toolText');
        const textDropdown = textTool.nextElementSibling;
        
        // Add text formatting options
        const formattingOptions = document.createElement('div');
        formattingOptions.className = 'text-formatting-options p-2';
        formattingOptions.innerHTML = `
            <div class="mb-2">
                <label class="form-label">Font Family</label>
                <select class="form-select form-select-sm" id="textFont">
                    <option value="Arial">Arial</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Courier New">Courier New</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Verdana">Verdana</option>
                </select>
            </div>
            <div class="mb-2">
                <label class="form-label">Font Size</label>
                <input type="range" class="form-range" id="textSize" min="8" max="72" value="16">
                <span id="textSizeValue">16px</span>
            </div>
            <div class="mb-2">
                <label class="form-label">Text Color</label>
                <input type="color" class="form-control form-control-sm" id="textColor" value="#000000">
            </div>
        `;
        textDropdown.insertBefore(formattingOptions, textDropdown.firstChild);

        // Add text input field
        const textInput = document.createElement('div');
        textInput.className = 'p-2';
        textInput.innerHTML = `
            <div class="input-group">
                <input type="text" class="form-control" id="textInput" placeholder="Enter text...">
                <button class="btn btn-primary" id="addTextBtn">Add</button>
            </div>
        `;
        textDropdown.insertBefore(textInput, textDropdown.firstChild);

        // Event listeners for text formatting
        document.getElementById('textFont').addEventListener('change', updateSelectedText);
        document.getElementById('textSize').addEventListener('input', function() {
            document.getElementById('textSizeValue').textContent = this.value + 'px';
            updateSelectedText();
        });
        document.getElementById('textColor').addEventListener('input', updateSelectedText);
        document.getElementById('addTextBtn').addEventListener('click', function() {
            const text = document.getElementById('textInput').value;
            if (text) {
                addText(text);
                document.getElementById('textInput').value = '';
            }
        });
    }

    // Update selected text properties
    function updateSelectedText() {
        const selectedAnnotation = annotations.find(a => a.isEditing);
        if (selectedAnnotation && selectedAnnotation.type === 'text') {
            selectedAnnotation.font = document.getElementById('textFont').value;
            selectedAnnotation.size = document.getElementById('textSize').value + 'px';
            selectedAnnotation.color = document.getElementById('textColor').value;
            renderAnnotation(selectedAnnotation);
        }
    }

    // Enhanced renderAnnotation function for text
    function renderAnnotation(annotation) {
        if (annotation.type === 'text') {
            const element = document.createElement('div');
            element.className = 'annotation text-annotation';
            element.style.left = `${annotation.x}px`;
            element.style.top = `${annotation.y}px`;
            element.style.color = annotation.color;
            element.style.fontFamily = annotation.font;
            element.style.fontSize = annotation.size;
            element.style.position = 'absolute';
            element.style.cursor = 'move';
            element.style.padding = '5px';
            element.style.minWidth = '50px';
            element.style.minHeight = '20px';
            element.style.border = annotation.isEditing ? '1px dashed #007bff' : 'none';
            element.contentEditable = annotation.isEditing;
            element.textContent = annotation.text;

            // Make text draggable
            element.draggable = true;
            element.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', '');
                element.style.opacity = '0.5';
            });
            element.addEventListener('dragend', (e) => {
                element.style.opacity = '1';
                annotation.x = e.clientX - pdfViewer.getBoundingClientRect().left;
                annotation.y = e.clientY - pdfViewer.getBoundingClientRect().top;
                element.style.left = `${annotation.x}px`;
                element.style.top = `${annotation.y}px`;
            });

            // Make text editable on click
            element.addEventListener('click', (e) => {
                            e.stopPropagation();
                annotations.forEach(a => a.isEditing = false);
                annotation.isEditing = true;
                element.contentEditable = true;
                element.focus();
                updateTextToolbar(annotation);
            });

            // Update text content on blur
            element.addEventListener('blur', () => {
                annotation.text = element.textContent;
                annotation.isEditing = false;
                element.contentEditable = false;
                element.style.border = 'none';
            });

            pdfViewer.appendChild(element);
        }
        // ... existing code for other annotation types ...
    }

    // Update text toolbar with selected text properties
    function updateTextToolbar(annotation) {
        if (annotation.type === 'text') {
            document.getElementById('textFont').value = annotation.font;
            document.getElementById('textSize').value = parseInt(annotation.size);
            document.getElementById('textSizeValue').textContent = annotation.size;
            document.getElementById('textColor').value = annotation.color;
        }
    }

    // Initialize tools when document is loaded
    document.addEventListener('DOMContentLoaded', () => {
        initializeTools();
        initializeTextTool();
    });
    </script>
</body>
</html> 